/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/kaboom.ts":
/*!**********************************!*\
  !*** ./src/components/kaboom.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.k = void 0;
var kaboom_1 = __importDefault(__webpack_require__(/*! kaboom */ "./node_modules/kaboom/dist/kaboom.cjs"));
var k = (0, kaboom_1.default)({
    global: true,
    fullscreen: true,
    scale: 1,
    debug: true,
    clearColor: [0, 0, 0, 1],
});
exports.k = k;


/***/ }),

/***/ "./src/components/level.ts":
/*!*********************************!*\
  !*** ./src/components/level.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Level = void 0;
var kaboom_1 = __webpack_require__(/*! ./kaboom */ "./src/components/kaboom.ts");
var levels = [
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "                                                     ",
    "==============================   ====================",
];
function Level() {
    kaboom_1.k.addLevel(levels, {
        width: 20,
        height: 20,
        "=": [kaboom_1.k.sprite("tiles", { frame: 1 }), kaboom_1.k.solid()],
        any: function () {
            return [];
        },
    });
}
exports.Level = Level;


/***/ }),

/***/ "./src/img/characters.png":
/*!********************************!*\
  !*** ./src/img/characters.png ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = "/" + "asset/46e2645be217fd587f4c.png";

/***/ }),

/***/ "./src/img/tiles.png":
/*!***************************!*\
  !*** ./src/img/tiles.png ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = "/" + "asset/490602b23393129a8dde.png";

/***/ }),

/***/ "./node_modules/kaboom/dist/kaboom.cjs":
/*!*********************************************!*\
  !*** ./node_modules/kaboom/dist/kaboom.cjs ***!
  \*********************************************/
/***/ ((module) => {

var Ze=Object.defineProperty,Ut=Object.defineProperties;var Bt=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var Je=(t,e,o)=>e in t?Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,me=(t,e)=>{for(var o in e||(e={}))jt.call(e,o)&&Je(t,o,e[o]);if(Qe)for(var o of Qe(e))zt.call(e,o)&&Je(t,o,e[o]);return t},xe=(t,e)=>Ut(t,Bt(e));var r=(t,e)=>Ze(t,"name",{value:e,configurable:!0});function et(t){return t*Math.PI/180}r(et,"deg2rad");function tt(t){return t*180/Math.PI}r(tt,"rad2deg");function ae(t,e,o){return e>o?ae(t,o,e):Math.min(Math.max(t,e),o)}r(ae,"clamp");function _e(t,e,o){return t+(e-t)*o}r(_e,"lerp");function ge(t,e,o,i,m){return i+(t-e)/(o-e)*(m-i)}r(ge,"map");function nt(t,e,o,i,m){return ae(ge(t,e,o,i,m),i,m)}r(nt,"mapc");function f(...t){if(t.length===0)return f(0,0);if(t.length===1){if(typeof t[0]=="number")return f(t[0],t[0]);if(we(t[0]))return f(t[0].x,t[0].y);if(Array.isArray(t[0])&&t[0].length===2)return f.apply(null,t[0])}return{x:t[0],y:t[1],clone(){return f(this.x,this.y)},add(...e){let o=f(...e);return f(this.x+o.x,this.y+o.y)},sub(...e){let o=f(...e);return f(this.x-o.x,this.y-o.y)},scale(e){return f(this.x*e,this.y*e)},dist(...e){let o=f(...e);return Math.sqrt((this.x-o.x)*(this.x-o.x)+(this.y-o.y)*(this.y-o.y))},len(){return this.dist(f(0,0))},unit(){return this.scale(1/this.len())},normal(){return f(this.y,-this.x)},dot(...e){let o=f(...e);return f(this.x*o.x,this.y*o.y)},angle(...e){let o=f(...e);return Math.atan2(this.y-o.y,this.x-o.x)},lerp(e,o){return f(_e(this.x,e.x,o),_e(this.y,e.y,o))},eq(e){return this.x===e.x&&this.y===e.y},str(){return`(${this.x}, ${this.y})`}}}r(f,"vec2");function rt(t){return f(Math.cos(t),Math.sin(t))}r(rt,"vec2FromAngle");function ve(t,e,o){return{x:t,y:e,z:o,xy(){return f(this.x,this.y)}}}r(ve,"vec3");function we(t){return t!==void 0&&t.x!==void 0&&t.y!==void 0}r(we,"isVec2");function st(t){return t!==void 0&&t.x!==void 0&&t.y!==void 0&&t.z!==void 0}r(st,"isVec3");function be(t){return t!==void 0&&t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0}r(be,"isColor");function ot(t){if(t!==void 0&&Array.isArray(t.m)&&t.m.length===16)return t}r(ot,"isMat4");function qe(...t){if(t.length===0)return Y();if(t.length===1){if(be(t[0]))return Y(t[0]);if(Array.isArray(t[0])&&t[0].length===3)return qe.apply(null,t[0])}return Y(t[0],t[1],t[2],1)}r(qe,"rgb");function Y(...t){var e;if(t.length===0)return Y(1,1,1,1);if(t.length===1){if(be(t[0]))return Y(t[0].r,t[0].g,t[0].b,t[0].a);if(Array.isArray(t[0])&&t[0].length===4)return Y.apply(null,t[0])}return{r:t[0],g:t[1],b:t[2],a:(e=t[3])!=null?e:1,clone(){return Y(this.r,this.g,this.b,this.a)},lighten(o){return Y(this.r+o,this.g+o,this.b+o,this.a)},darken(o){return this.lighten(-o)},invert(){return Y(1-this.r,1-this.g,1-this.b,this.a)},isDark(o=.5){return this.r+this.g+this.b<3*o},isLight(o=.5){return this.r+this.g+this.b>3*o},eq(o){return this.r===o.r&&this.g===o.g&&this.b===o.g&&this.a===o.a}}}r(Y,"rgba");function oe(t,e,o,i){return{x:t,y:e,w:o,h:i,clone(){return oe(this.x,this.y,this.w,this.h)},eq(m){return this.x===m.x&&this.y===m.y&&this.w===m.w&&this.h===m.h}}}r(oe,"quad");function ee(t){return{m:t?[...t]:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],clone(){return ee(this.m)},mult(e){let o=[];for(let i=0;i<4;i++)for(let m=0;m<4;m++)o[i*4+m]=this.m[0*4+m]*e.m[i*4+0]+this.m[1*4+m]*e.m[i*4+1]+this.m[2*4+m]*e.m[i*4+2]+this.m[3*4+m]*e.m[i*4+3];return ee(o)},multVec4(e){return{x:e.x*this.m[0]+e.y*this.m[4]+e.z*this.m[8]+e.w*this.m[12],y:e.x*this.m[1]+e.y*this.m[5]+e.z*this.m[9]+e.w*this.m[13],z:e.x*this.m[2]+e.y*this.m[6]+e.z*this.m[10]+e.w*this.m[14],w:e.x*this.m[3]+e.y*this.m[7]+e.z*this.m[11]+e.w*this.m[15]}},multVec3(e){let o=this.multVec4({x:e.x,y:e.y,z:e.z,w:1});return ve(o.x,o.y,o.z)},multVec2(e){return f(e.x*this.m[0]+e.y*this.m[4]+0*this.m[8]+1*this.m[12],e.x*this.m[1]+e.y*this.m[5]+0*this.m[9]+1*this.m[13])},translate(e){return this.mult(ee([1,0,0,0,0,1,0,0,0,0,1,0,e.x,e.y,0,1]))},scale(e){return this.mult(ee([e.x,0,0,0,0,e.y,0,0,0,0,1,0,0,0,0,1]))},rotateX(e){return this.mult(ee([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1]))},rotateY(e){return this.mult(ee([Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1]))},rotateZ(e){return this.mult(ee([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1]))},invert(){let e=[],o=this.m[10]*this.m[15]-this.m[14]*this.m[11],i=this.m[9]*this.m[15]-this.m[13]*this.m[11],m=this.m[9]*this.m[14]-this.m[13]*this.m[10],v=this.m[8]*this.m[15]-this.m[12]*this.m[11],A=this.m[8]*this.m[14]-this.m[12]*this.m[10],R=this.m[8]*this.m[13]-this.m[12]*this.m[9],$=this.m[6]*this.m[15]-this.m[14]*this.m[7],k=this.m[5]*this.m[15]-this.m[13]*this.m[7],I=this.m[5]*this.m[14]-this.m[13]*this.m[6],j=this.m[4]*this.m[15]-this.m[12]*this.m[7],T=this.m[4]*this.m[14]-this.m[12]*this.m[6],w=this.m[5]*this.m[15]-this.m[13]*this.m[7],S=this.m[4]*this.m[13]-this.m[12]*this.m[5],U=this.m[6]*this.m[11]-this.m[10]*this.m[7],B=this.m[5]*this.m[11]-this.m[9]*this.m[7],_=this.m[5]*this.m[10]-this.m[9]*this.m[6],G=this.m[4]*this.m[11]-this.m[8]*this.m[7],y=this.m[4]*this.m[10]-this.m[8]*this.m[6],H=this.m[4]*this.m[9]-this.m[8]*this.m[5];e[0]=this.m[5]*o-this.m[6]*i+this.m[7]*m,e[4]=-(this.m[4]*o-this.m[6]*v+this.m[7]*A),e[8]=this.m[4]*i-this.m[5]*v+this.m[7]*R,e[12]=-(this.m[4]*m-this.m[5]*A+this.m[6]*R),e[1]=-(this.m[1]*o-this.m[2]*i+this.m[3]*m),e[5]=this.m[0]*o-this.m[2]*v+this.m[3]*A,e[9]=-(this.m[0]*i-this.m[1]*v+this.m[3]*R),e[13]=this.m[0]*m-this.m[1]*A+this.m[2]*R,e[2]=this.m[1]*$-this.m[2]*k+this.m[3]*I,e[6]=-(this.m[0]*$-this.m[2]*j+this.m[3]*T),e[10]=this.m[0]*w-this.m[1]*j+this.m[3]*S,e[14]=-(this.m[0]*I-this.m[1]*T+this.m[2]*S),e[3]=-(this.m[1]*U-this.m[2]*B+this.m[3]*_),e[7]=this.m[0]*U-this.m[2]*G+this.m[3]*y,e[11]=-(this.m[0]*B-this.m[1]*G+this.m[3]*H),e[15]=this.m[0]*_-this.m[1]*y+this.m[2]*H;let M=this.m[0]*e[0]+this.m[1]*e[4]+this.m[2]*e[8]+this.m[3]*e[12];for(let q=0;q<4;q++)for(let J=0;J<4;J++)e[q*4+J]*=1/M;return ee(e)}}}r(ee,"mat4");function it(t,e,o){return t+(Math.sin(o)+1)/2*(e-t)}r(it,"wave");var Xt=1103515245,Yt=12345,at=2147483648,ut=je(Date.now());function je(t){return{seed:t,gen(...e){if(e.length===0)return this.seed=(Xt*this.seed+Yt)%at,this.seed/at;if(e.length===1){if(typeof e[0]=="number")return this.gen(0,e[0]);if(we(e[0]))return this.gen(f(0,0),e[0]);if(be(e[0]))return this.gen(Y(0,0,0,0),e[0])}else if(e.length===2){if(typeof e[0]=="number"&&typeof e[1]=="number")return this.gen()*(e[1]-e[0])+e[0];if(we(e[0])&&we(e[1]))return f(this.gen(e[0].x,e[1].x),this.gen(e[0].y,e[1].y));if(be(e[0])&&be(e[1]))return Y(this.gen(e[0].r,e[1].r),this.gen(e[0].g,e[1].g),this.gen(e[0].b,e[1].b),this.gen(e[0].a,e[1].a))}}}}r(je,"makeRng");function ct(t){ut.seed=t}r(ct,"randSeed");function ke(...t){return ut.gen(...t)}r(ke,"rand");function dt(t){return ke()<=t}r(dt,"chance");function ft(t){return t[Math.floor(ke(t.length))]}r(ft,"choose");function ze(t,e){return t.p2.x>=e.p1.x&&t.p1.x<=e.p2.x&&t.p2.y>=e.p1.y&&t.p1.y<=e.p2.y}r(ze,"colRectRect");function ht(t,e){return t.p2.x>e.p1.x&&t.p1.x<e.p2.x&&t.p2.y>e.p1.y&&t.p1.y<e.p2.y}r(ht,"overlapRectRect");function mt(t,e){return e.x>=t.p1.x&&e.x<=t.p2.x&&e.y>=t.p1.y&&e.y<t.p2.y}r(mt,"colRectPt");function Xe(t,e){let o=typeof t,i=typeof e;if(o!==i)return!1;if(o==="object"&&i==="object"){let m=Object.keys(t),v=Object.keys(e);if(m.length!==v.length)return!1;for(let A of m){let R=t[A],$=e[A];if(!(typeof R=="function"&&typeof $=="function")&&!Xe(R,$))return!1}return!0}return t===e}r(Xe,"deepEq");var Ye="topleft",De=9,Oe=65536,lt=64,$t=`
attribute vec3 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec3 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Ht=`
precision mediump float;

varying vec3 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	return v_color * texture2D(u_tex, v_uv);
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,$e=`
vec4 vert(vec3 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,He=`
vec4 frag(vec3 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`;function Pe(t){switch(t){case"topleft":return f(-1,-1);case"top":return f(0,-1);case"topright":return f(1,-1);case"left":return f(-1,0);case"center":return f(0,0);case"right":return f(1,0);case"botleft":return f(-1,1);case"bot":return f(0,1);case"botright":return f(1,1);default:return t}}r(Pe,"originPt");function pt(t,e){let o=(()=>{switch(e.texFilter){case"linear":return t.LINEAR;case"nearest":return t.NEAREST;default:return t.NEAREST}})(),i=(()=>{var K;let h=A($e,He),x=v(new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),b=(K=e.clearColor)!=null?K:Y(0,0,0,1);t.clearColor(b.r,b.g,b.b,b.a),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);let L=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,L),t.bufferData(t.ARRAY_BUFFER,Oe*4,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);let z=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,z),t.bufferData(t.ELEMENT_ARRAY_BUFFER,Oe*2,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);let V=v(new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2));return{drawCalls:0,lastDrawCalls:0,defProg:h,curProg:h,defTex:x,curTex:x,curUniform:{},vbuf:L,ibuf:z,vqueue:[],iqueue:[],transform:ee(),transformStack:[],clearColor:b,bgTex:V}})();I(),j();function m(h){return Math.log(h)/Math.log(2)%1==0}r(m,"powerOfTwo");function v(h){let x=t.createTexture();t.bindTexture(t.TEXTURE_2D,x),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o);let b=(()=>m(h.width)&&m(h.height)?t.REPEAT:t.CLAMP_TO_EDGE)();return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,b),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,b),t.bindTexture(t.TEXTURE_2D,null),{width:h.width,height:h.height,bind(){t.bindTexture(t.TEXTURE_2D,x)},unbind(){t.bindTexture(t.TEXTURE_2D,null)}}}r(v,"makeTex");function A(h=$e,x=He){let b,L=$t.replace("{{user}}",h!=null?h:$e),z=Ht.replace("{{user}}",x!=null?x:He),V=t.createShader(t.VERTEX_SHADER),K=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(V,L),t.shaderSource(K,z),t.compileShader(V),t.compileShader(K),b=t.getShaderInfoLog(V))throw new Error(b);if(b=t.getShaderInfoLog(K))throw new Error(b);let C=t.createProgram();if(t.attachShader(C,V),t.attachShader(C,K),t.bindAttribLocation(C,0,"a_pos"),t.bindAttribLocation(C,1,"a_uv"),t.bindAttribLocation(C,2,"a_color"),t.linkProgram(C),(b=t.getProgramInfoLog(C))&&b!==`
`)throw new Error(b);return{bind(){t.useProgram(C)},unbind(){t.useProgram(null)},bindAttribs(){t.vertexAttribPointer(0,3,t.FLOAT,!1,De*4,0),t.enableVertexAttribArray(0),t.vertexAttribPointer(1,2,t.FLOAT,!1,De*4,12),t.enableVertexAttribArray(1),t.vertexAttribPointer(2,4,t.FLOAT,!1,De*4,20),t.enableVertexAttribArray(2)},send(P){this.bind();for(let X in P){let F=P[X],Z=t.getUniformLocation(C,X);typeof F=="number"?t.uniform1f(Z,F):ot(F)?t.uniformMatrix4fv(Z,!1,new Float32Array(F.m)):be(F)?t.uniform4f(Z,F.r,F.g,F.b,F.a):st(F)?t.uniform3f(Z,F.x,F.y,F.z):we(F)&&t.uniform2f(Z,F.x,F.y)}this.unbind()}}}r(A,"makeProgram");function R(h,x,b,L){let z=h.width/x,V=h.height/b,K=1/z,C=1/V,P={},X=L.split("").entries();for(let[F,Z]of X)P[Z]=f(F%z*K,Math.floor(F/z)*C);return{tex:h,map:P,qw:K,qh:C}}r(R,"makeFont");function $(h,x,b=i.defTex,L=i.defProg,z={}){b=b!=null?b:i.defTex,L=L!=null?L:i.defProg,(b!==i.curTex||L!==i.curProg||!Xe(i.curUniform,z)||i.vqueue.length+h.length*De>Oe||i.iqueue.length+x.length>Oe)&&k(),i.curTex=b,i.curProg=L,i.curUniform=z;let V=x.map(C=>C+i.vqueue.length/De),K=h.map(C=>{let P=w(i.transform.multVec2(C.pos.xy()));return[P.x,P.y,C.pos.z,C.uv.x,C.uv.y,C.color.r,C.color.g,C.color.b,C.color.a]}).flat();V.forEach(C=>i.iqueue.push(C)),K.forEach(C=>i.vqueue.push(C))}r($,"drawRaw");function k(){!i.curTex||!i.curProg||i.vqueue.length===0||i.iqueue.length===0||(i.curProg.send(i.curUniform),t.bindBuffer(t.ARRAY_BUFFER,i.vbuf),t.bufferSubData(t.ARRAY_BUFFER,0,new Float32Array(i.vqueue)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.ibuf),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(i.iqueue)),i.curProg.bind(),i.curProg.bindAttribs(),i.curTex.bind(),t.drawElements(t.TRIANGLES,i.iqueue.length,t.UNSIGNED_SHORT,0),i.curTex.unbind(),i.curProg.unbind(),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),i.iqueue=[],i.vqueue=[],i.drawCalls++)}r(k,"flush");function I(){t.clear(t.COLOR_BUFFER_BIT),e.clearColor||q({width:fe(),height:le(),quad:oe(0,0,fe()*pe()/lt,le()*pe()/lt),tex:i.bgTex}),i.drawCalls=0,i.transformStack=[],i.transform=ee()}r(I,"frameStart");function j(){k(),i.lastDrawCalls=i.drawCalls}r(j,"frameEnd");function T(){return i.lastDrawCalls}r(T,"drawCalls");function w(h){return f(h.x/fe()*2-1,-h.y/le()*2+1)}r(w,"toNDC");function S(h){i.transform=h.clone()}r(S,"pushMatrix");function U(h){!h||h.x===0&&h.y===0||(i.transform=i.transform.translate(h))}r(U,"pushTranslate");function B(h){!h||h.x===1&&h.y===1||(i.transform=i.transform.scale(h))}r(B,"pushScale");function _(h){!h||(i.transform=i.transform.rotateX(h))}r(_,"pushRotateX");function G(h){!h||(i.transform=i.transform.rotateY(h))}r(G,"pushRotateY");function y(h){!h||(i.transform=i.transform.rotateZ(h))}r(y,"pushRotateZ");function H(){i.transformStack.push(i.transform.clone())}r(H,"pushTransform");function M(){i.transformStack.length>0&&(i.transform=i.transformStack.pop())}r(M,"popTransform");function q(h={}){var Z,re;let x=h.width||0,b=h.height||0,L=h.pos||f(0,0),V=Pe(h.origin||Ye).dot(f(x,b).scale(-.5)),K=f((Z=h.scale)!=null?Z:1),C=h.rot||0,P=h.quad||oe(0,0,1,1),X=1-((re=h.z)!=null?re:0),F=h.color||Y(1,1,1,1);H(),U(L),B(K),y(C),U(V),$([{pos:ve(-x/2,b/2,X),uv:f(P.x,P.y+P.h),color:F},{pos:ve(-x/2,-b/2,X),uv:f(P.x,P.y),color:F},{pos:ve(x/2,-b/2,X),uv:f(P.x+P.w,P.y),color:F},{pos:ve(x/2,b/2,X),uv:f(P.x+P.w,P.y+P.h),color:F}],[0,1,3,1,2,3],h.tex,h.prog,h.uniform),M()}r(q,"drawQuad");function J(h,x={}){var V;let b=(V=x.quad)!=null?V:oe(0,0,1,1),L=h.width*b.w,z=h.height*b.h;q(xe(me({},x),{tex:h,quad:b,width:L,height:z}))}r(J,"drawTexture");function E(h,x,b,L={}){q(xe(me({},L),{pos:h,width:x,height:b}))}r(E,"drawRect");function O(h,x,b,L={}){let z=Pe(L.origin||Ye).dot(f(x,b)).scale(.5),V=h.add(f(-x/2,-b/2)).sub(z),K=h.add(f(-x/2,b/2)).sub(z),C=h.add(f(x/2,b/2)).sub(z),P=h.add(f(x/2,-b/2)).sub(z);te(V,K,L),te(K,C,L),te(C,P,L),te(P,V,L)}r(O,"drawRectStroke");function te(h,x,b={}){let L=b.width||1,z=h.dist(x),V=Math.PI/2-h.angle(x);q(xe(me({},b),{pos:h.add(x).scale(.5),width:L,height:z,rot:V,origin:"center"}))}r(te,"drawLine");function ne(h,x,b={}){let L=(h+"").split(""),z=x.qw*x.tex.width,V=x.qh*x.tex.height,K=b.size||V,C=f(K/V).dot(f(b.scale||1)),P=C.x*z,X=C.y*V,F=0,Z=X,re=0,ye=[[]];for(let ie of L)(ie===`
`||(b.width?F+P>b.width:!1))&&(Z+=X,F=0,ye.push([])),ie!==`
`&&(ye[ye.length-1].push(ie),F+=P),re=Math.max(re,F);b.width&&(re=b.width);let Ie=[],Le=f(b.pos||0),se=Pe(b.origin||Ye).scale(.5),he=-se.x*P-(se.x+.5)*(re-P),Se=-se.y*X-(se.y+.5)*(Z-X);return ye.forEach((ie,Ve)=>{let Fe=(re-ie.length*P)*(se.x+.5);ie.forEach((Ee,Ne)=>{let Ce=x.map[Ee],Ue=Ne*P,Ge=Ve*X;Ce&&Ie.push({tex:x.tex,quad:oe(Ce.x,Ce.y,x.qw,x.qh),ch:Ee,pos:f(Le.x+Ue+he+Fe,Le.y+Ge+Se),color:b.color,origin:b.origin,scale:C,z:b.z})})}),{width:re,height:Z,chars:Ie}}r(ne,"fmtText");function ue(h,x,b={}){ce(ne(h,x,b))}r(ue,"drawText");function ce(h){for(let x of h.chars)q({tex:x.tex,width:x.tex.width*x.quad.w,height:x.tex.height*x.quad.h,pos:x.pos,scale:x.scale,color:x.color,quad:x.quad,origin:"center",z:x.z})}r(ce,"drawFmtText");function fe(){return t.drawingBufferWidth/pe()}r(fe,"width");function le(){return t.drawingBufferHeight/pe()}r(le,"height");function pe(){var h;return(h=e.scale)!=null?h:1}r(pe,"scale");function Te(){return i.clearColor.clone()}return r(Te,"clearColor"),{width:fe,height:le,scale:pe,makeTex:v,makeProgram:A,makeFont:R,drawTexture:J,drawText:ue,drawFmtText:ce,drawRect:E,drawRectStroke:O,drawLine:te,fmtText:ne,frameStart:I,frameEnd:j,pushTransform:H,popTransform:M,pushMatrix:S,drawCalls:T,clearColor:Te}}r(pt,"gfxInit");function bt(t){return t==="pressed"||t==="rpressed"?"down":t==="released"?"up":t}r(bt,"processBtnState");function yt(t={}){var q,J;let e={canvas:(q=t.canvas)!=null?q:(()=>{var O;let E=document.createElement("canvas");return((O=t.root)!=null?O:document.body).appendChild(E),E})(),keyStates:{},charInputted:[],mouseState:"up",mousePos:f(0,0),time:0,realTime:0,skipTime:!1,dt:0,scale:(J=t.scale)!=null?J:1,isTouch:!1,loopID:null,stopped:!1,fps:0,fpsBuf:[],fpsTimer:0},o={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"},i=["space","left","right","up","down","tab","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11"];t.fullscreen?(e.canvas.width=window.innerWidth,e.canvas.height=window.innerHeight):(e.canvas.width=(t.width||640)*e.scale,e.canvas.height=(t.height||480)*e.scale);let m=["outline: none","cursor: default"];t.crisp&&(m.push("image-rendering: pixelated"),m.push("image-rendering: crisp-edges")),e.canvas.style=m.join(";"),e.canvas.setAttribute("tabindex","0");let v=e.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});e.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,e.canvas.addEventListener("mousemove",E=>{e.mousePos=f(E.offsetX,E.offsetY).scale(1/e.scale)}),e.canvas.addEventListener("mousedown",()=>{e.mouseState="pressed"}),e.canvas.addEventListener("mouseup",()=>{e.mouseState="released"}),e.canvas.addEventListener("touchstart",E=>{let O=E.touches[0];e.mousePos=f(O.clientX,O.clientY).scale(1/e.scale),e.mouseState="pressed"}),e.canvas.addEventListener("touchmove",E=>{let O=E.touches[0];e.mousePos=f(O.clientX,O.clientY).scale(1/e.scale)}),e.canvas.addEventListener("keydown",E=>{let O=o[E.key]||E.key.toLowerCase();i.includes(O)&&E.preventDefault(),O.length===1&&e.charInputted.push(O),O==="space"&&e.charInputted.push(" "),E.repeat?e.keyStates[O]="rpressed":e.keyStates[O]="pressed"}),e.canvas.addEventListener("keyup",E=>{let O=o[E.key]||E.key.toLowerCase();e.keyStates[O]="released"}),e.canvas.focus(),document.addEventListener("visibilitychange",()=>{switch(document.visibilityState){case"visible":e.skipTime=!0;break;case"hidden":break}});function A(){return e.mousePos.clone()}r(A,"mousePos");function R(){return e.mouseState==="pressed"}r(R,"mouseClicked");function $(){return e.mouseState==="pressed"||e.mouseState==="down"}r($,"mouseDown");function k(){return e.mouseState==="released"}r(k,"mouseReleased");function I(E){return e.keyStates[E]==="pressed"}r(I,"keyPressed");function j(E){return e.keyStates[E]==="pressed"||e.keyStates[E]==="rpressed"}r(j,"keyPressedRep");function T(E){return e.keyStates[E]==="pressed"||e.keyStates[E]==="rpressed"||e.keyStates[E]==="down"}r(T,"keyDown");function w(E){return e.keyStates[E]==="released"}r(w,"keyReleased");function S(){return[...e.charInputted]}r(S,"charInputted");function U(){return e.dt}r(U,"dt");function B(){return e.time}r(B,"time");function _(){return e.fps}r(_,"fps");function G(){return e.canvas.toDataURL()}r(G,"screenshot");function y(E){return E&&(e.canvas.style.cursor=E!=null?E:"default"),e.canvas.style.cursor}r(y,"cursor");function H(E){let O=r(te=>{let ne=te/1e3,ue=ne-e.realTime;e.realTime=ne,e.skipTime||(e.dt=ue,e.time+=e.dt,e.fpsBuf.push(1/e.dt),e.fpsTimer+=e.dt,e.fpsTimer>=1&&(e.fpsTimer=0,e.fps=Math.round(e.fpsBuf.reduce((ce,fe)=>ce+fe)/e.fpsBuf.length),e.fpsBuf=[])),e.skipTime=!1,E();for(let ce in e.keyStates)e.keyStates[ce]=bt(e.keyStates[ce]);e.mouseState=bt(e.mouseState),e.charInputted=[],e.stopped||(e.loopID=requestAnimationFrame(O))},"frame");e.loopID=requestAnimationFrame(O)}r(H,"run");function M(){cancelAnimationFrame(e.loopID),e.stopped=!0}return r(M,"quit"),{gl:v,mousePos:A,keyDown:T,keyPressed:I,keyPressedRep:j,keyReleased:w,mouseDown:$,mouseClicked:R,mouseReleased:k,charInputted:S,cursor:y,dt:U,time:B,fps:_,screenshot:G,run:H,quit:M}}r(yt,"appInit");var xt=0,gt=3,Wt=0,Kt=3,Zt=-1200,Qt=1200;function wt(){let t=(()=>{let m=new(window.AudioContext||window.webkitAudioContext),v=m.createGain(),A=v;return A.connect(m.destination),{ctx:m,gainNode:v,masterNode:A}})();function e(m){return m!==void 0&&(t.gainNode.gain.value=ae(m,xt,gt)),t.gainNode.gain.value}r(e,"volume");function o(m,v={loop:!1,volume:1,speed:1,detune:0,seek:0}){var w;let A=!1,R=t.ctx.createBufferSource();R.buffer=m,R.loop=!!v.loop;let $=t.ctx.createGain();R.connect($),$.connect(t.masterNode);let k=(w=v.seek)!=null?w:0;R.start(0,k);let I=t.ctx.currentTime-k,j=null,T={stop(){A||(this.pause(),I=t.ctx.currentTime)},play(S){if(!A)return;let U=R;R=t.ctx.createBufferSource(),R.buffer=U.buffer,R.loop=U.loop,R.playbackRate.value=U.playbackRate.value,R.detune&&(R.detune.value=U.detune.value),R.connect($);let B=S!=null?S:this.time();R.start(0,B),I=t.ctx.currentTime-B,A=!1,j=null},pause(){A||(R.stop(),A=!0,j=t.ctx.currentTime)},paused(){return A},stopped(){return A},speed(S){return S!==void 0&&(R.playbackRate.value=ae(S,Wt,Kt)),R.playbackRate.value},detune(S){return R.detune?(S!==void 0&&(R.detune.value=ae(S,Zt,Qt)),R.detune.value):0},volume(S){return S!==void 0&&($.gain.value=ae(S,xt,gt)),$.gain.value},loop(){R.loop=!0},unloop(){R.loop=!1},duration(){return m.duration},time(){return A?j-I:t.ctx.currentTime-I}};return T.speed(v.speed),T.detune(v.detune),T.volume(v.volume),T}r(o,"play");function i(){return t.ctx}return r(i,"ctx"),{ctx:i,volume:e,play:o}}r(wt,"audioInit");var vt="data:image/png;base64,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";var en=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Re="unscii";function Rt(t){let e=new Image;return e.src=t,e.crossOrigin="anonymous",new Promise((o,i)=>{e.onload=()=>{o(e)},e.onerror=()=>{i(`failed to load ${t}`)}})}r(Rt,"loadImg");function Tt(t){return t.startsWith("data:")}r(Tt,"isDataUrl");function St(t,e,o={}){let i={lastLoaderID:0,loadRoot:"",loaders:{},sprites:{},sounds:{},fonts:{},shaders:{}};function m(T){var S;let w=i.lastLoaderID;i.loaders[w]=!1,i.lastLoaderID++,T.catch((S=o.errHandler)!=null?S:console.error).finally(()=>{i.loaders[w]=!0})}r(m,"addLoader");function v(){let T=0,w=0;for(let S in i.loaders)T+=1,i.loaders[S]&&(w+=1);return w/T}r(v,"loadProgress");function A(T){return T&&(i.loadRoot=T),i.loadRoot}r(A,"loadRoot");function R(T,w,S,U,B=en){let _=new Promise((G,y)=>{let H=Tt(w)?w:i.loadRoot+w;Rt(H).then(M=>{let q=t.makeFont(t.makeTex(M),S,U,B);i.fonts[T]=q,G(q)}).catch(y)});return m(_),_}r(R,"loadFont");function $(T,w,S={sliceX:1,sliceY:1,anims:{}}){function U(_,G,y={sliceX:1,sliceY:1,gridWidth:0,gridHeight:0,anims:{}}){let H=[],M=t.makeTex(G),q=y.sliceX||M.width/(y.gridWidth||M.width),J=y.sliceY||M.height/(y.gridHeight||M.height),E=1/q,O=1/J;for(let ne=0;ne<J;ne++)for(let ue=0;ue<q;ue++)H.push(oe(ue*E,ne*O,E,O));let te={tex:M,frames:H,anims:y.anims||{}};return i.sprites[_]=te,te}r(U,"loadRawSprite");let B=new Promise((_,G)=>{if(!w)return G(`expected sprite src for "${T}"`);if(typeof w=="string"){let y=Tt(w)?w:i.loadRoot+w;Rt(y).then(H=>{_(U(T,H,S))}).catch(G)}else _(U(T,w,S))});return m(B),B}r($,"loadSprite");function k(T,w,S,U=!1){function B(G,y,H){let M=t.makeProgram(y,H);return i.shaders[G]=M,M}r(B,"loadRawShader");let _=new Promise((G,y)=>{if(!w&&!S)return y("no shader");function H(M){return M?fetch(i.loadRoot+M).then(q=>{if(q.ok)return q.text();throw new Error(`failed to load ${M}`)}).catch(y):new Promise(q=>q(null))}if(r(H,"resolveUrl"),U)Promise.all([H(w),H(S)]).then(([M,q])=>{G(B(T,M,q))}).catch(y);else try{G(B(T,w,S))}catch(M){y(M)}});return m(_),_}r(k,"loadShader");function I(T,w){let S=i.loadRoot+w,U=new Promise((B,_)=>{if(!w)return _(`expected sound src for "${T}"`);typeof w=="string"&&fetch(S).then(G=>{if(G.ok)return G.arrayBuffer();throw new Error(`failed to load ${S}`)}).then(G=>new Promise((y,H)=>{e.ctx().decodeAudioData(G,y,H)})).then(G=>{i.sounds[T]=G,B(G)}).catch(_)});return m(U),U}r(I,"loadSound");function j(){return i.fonts[Re]}return r(j,"defFont"),R(Re,vt,8,8),{loadRoot:A,loadSprite:$,loadSound:I,loadFont:R,loadShader:k,loadProgress:v,addLoader:m,defFont:j,sprites:i.sprites,fonts:i.fonts,sounds:i.sounds,shaders:i.shaders}}r(St,"assetsInit");var tn=16;function Et(t,e,o={max:8}){var k;let i=[],m=(k=o.max)!=null?k:8;function v(){i.length>m&&(i=i.slice(0,m));let I=f(0,t.height());i.forEach((j,T)=>{let w=ge(T,0,m,1,.5),S=ge(T,0,m,.8,.2),U=(()=>{switch(j.type){case"info":return Y(1,1,1,w);case"error":return Y(1,0,.5,w)}})(),B=t.fmtText(j.msg,e.defFont(),{pos:I,origin:"botleft",color:U,size:tn/t.scale(),width:t.width()});t.drawRect(I,B.width,B.height,{origin:"botleft",color:Y(0,0,0,S)}),t.drawFmtText(B),I.y-=B.height})}r(v,"draw");function A(I){console.error(I),i.unshift({type:"error",msg:I})}r(A,"error");function R(I){i.unshift({type:"info",msg:I})}r(R,"info");function $(){i=[]}return r($,"clear"),{info:R,error:A,draw:v,clear:$}}r(Et,"loggerInit");function Ct(t){let e={},o=[],i=null;function m(){return i!==null&&i.readyState===1}r(m,"connected");function v(){let k=new WebSocket(t);return new Promise((I,j)=>{k.onopen=()=>{I(k),i=k;for(let T of o)k.send(T)},k.onerror=()=>{j(`failed to connect to ${t}`)},k.onmessage=T=>{let w=JSON.parse(T.data);if(e[w.type])for(let S of e[w.type])S(w.data,w.id)}})}r(v,"connect");function A(k,I){e[k]||(e[k]=[]),e[k].push(I)}r(A,"recv");function R(k,I){let j=JSON.stringify({type:k,data:I});i?i.send(j):o.push(j)}r(R,"send");function $(){i&&i.close()}return r($,"close"),{connect:v,close:$,connected:m,recv:A,send:R}}r(Ct,"netInit");module.exports=(t={width:640,height:480,scale:1,fullscreen:!1,debug:!1,crisp:!1,canvas:null,connect:null,logMax:8,root:document.body})=>{let e=yt({width:t.width,height:t.height,scale:t.scale,fullscreen:t.fullscreen,crisp:t.crisp,canvas:t.canvas,root:t.root}),o=pt(e.gl,{clearColor:t.clearColor?Y(t.clearColor):void 0,scale:t.scale,texFilter:t.texFilter}),i=wt(),m=St(o,i,{errHandler:s=>{v.error(s)}}),v=Et(o,m,{max:t.logMax}),A=(()=>t.connect?Ct(t.connect):null)();function R(s,n){if(!A)throw new Error("not connected to any websockets");A.recv(s,(a,d)=>{try{n(a,d)}catch(u){v.error(u)}})}r(R,"recv");function $(s,n){if(!A)throw new Error("not connected to any websockets");A.send(s,n)}r($,"send");function k(){return e.dt()*W.timeScale}r(k,"dt");function I(s,n={}){let a=m.sounds[s];if(!a)throw new Error(`sound not found: "${s}"`);return i.play(a,n)}r(I,"play");function j(s){var a;let n=y();return!((a=n.layers[s!=null?s:n.defLayer])==null?void 0:a.noCam)}r(j,"isCamLayer");function T(s){return j(s)?y().cam.mpos:e.mousePos()}r(T,"mousePos");function w(s,n={}){var u;let a=(()=>typeof s=="string"?m.sprites[s]:s)();if(!a)throw new Error(`sprite not found: "${s}"`);let d=a.frames[(u=n.frame)!=null?u:0];o.drawTexture(a.tex,xe(me({},n),{quad:d}))}r(w,"drawSprite");function S(s,n={}){var u;let a=(u=n.font)!=null?u:Re,d=m.fonts[a];if(!d)throw new Error(`font not found: ${a}`);o.drawText(s,d,n)}r(S,"drawText");let U=980,B="topleft",_={loaded:!1,scenes:{},curScene:null,nextScene:null};function G(s,n){_.scenes[s]={init:n,initialized:!1,events:{add:[],update:[],draw:[],destroy:[],keyDown:[],keyPress:[],keyPressRep:[],keyRelease:[],mouseClick:[],mouseRelease:[],mouseDown:[],charInput:[]},action:[],render:[],objs:new Map,lastObjID:0,timers:{},lastTimerID:0,cam:{pos:f(o.width()/2,o.height()/2),scale:f(1,1),angle:0,shake:0,mpos:f(0),matrix:ee()},layers:{},defLayer:null,gravity:U,data:{}}}r(G,"scene");function y(){return _.scenes[_.curScene]}r(y,"curScene");function H(){return y().data}r(H,"sceneData");function M(){X("`",()=>{W.showLog=!W.showLog,v.info(`show log: ${W.showLog?"on":"off"}`)}),X("f1",()=>{W.inspect=!W.inspect,v.info(`inspect: ${W.inspect?"on":"off"}`)}),X("f2",()=>{W.clearLog()}),X("f8",()=>{W.paused=!W.paused,v.info(`${W.paused?"paused":"unpaused"}`)}),X("f7",()=>{W.timeScale=ae(W.timeScale-.2,0,2),v.info(`time scale: ${W.timeScale.toFixed(1)}`)}),X("f9",()=>{W.timeScale=ae(W.timeScale+.2,0,2),v.info(`time scale: ${W.timeScale.toFixed(1)}`)}),X("f10",()=>{W.stepFrame(),v.info("stepped frame")})}r(M,"regDebugInputs");function q(s,...n){_.nextScene={name:s,args:[...n]}}r(q,"go");function J(s,...n){E(s),_.curScene=s;let a=_.scenes[s];if(!a)throw new Error(`scene not found: '${s}'`);if(!a.initialized){try{a.init(...n)}catch(d){v.error(d.stack)}t.debug&&M(),a.initialized=!0}}r(J,"goSync");function E(s){if(!_.scenes[s])throw new Error(`scene not found: '${s}'`);G(s,_.scenes[s].init)}r(E,"reload");function O(s,n){let a=y();!a||(s.forEach((d,u)=>{a.layers[d]={alpha:1,order:u+1,noCam:!1}}),n&&(a.defLayer=n))}r(O,"layers");function te(...s){let n=y().cam;return s.length>0&&(n.pos=f(...s)),n.pos.clone()}r(te,"camPos");function ne(...s){let n=y().cam;return s.length>0&&(n.scale=f(...s)),n.scale.clone()}r(ne,"camScale");function ue(s){let n=y().cam;return s!==void 0&&(n.angle=s),n.angle}r(ue,"camRot");function ce(s){let n=y().cam;n.shake=s}r(ce,"camShake");function fe(s){let n=y();s.forEach(a=>{n.layers[a]&&(n.layers[a].noCam=!0)})}r(fe,"camIgnore");function le(s){let n={hidden:!1,paused:!1,_tags:[],_id:null,_events:{add:[],update:[],draw:[],destroy:[],inspect:[]},use(u){if(u===void 0)return;let p=typeof u;if(p==="string"){this._tags.push(u);return}if(p!=="object")throw new Error(`invalid comp type: ${p}`);if(Array.isArray(u)){for(let c of u)this.use(c);return}for(let c in u){if(typeof u[c]=="function"){this._events[c]?this._events[c].push(u[c].bind(this)):this[c]=u[c].bind(this);continue}this[c]=u[c]}},exists(){return this._id!==void 0},is(u){if(u==="*")return!0;if(Array.isArray(u)){for(let p of u)if(!this._tags.includes(p))return!1;return!0}return this._tags.includes(u)},on(u,p){this._events[u]||(this._events[u]=[]),this._events[u].push(p)},action(u){this.on("update",u)},trigger(u,...p){if(this._events[u])for(let g of this._events[u])g.call(this,...p);let l=y().events[u];if(l)for(let g of l)this.is(g.tag)&&g.cb(this,...p)},rmTag(u){let p=this._tags.indexOf(u);p>-1&&this._tags.splice(p,1)}};n.use(s);let a=y(),d=a.lastObjID++;a.objs.set(d,n),n._id=d,n.trigger("add");for(let u of a.events.add)n.is(u.tag)&&u.cb(n);return n}r(le,"add");function pe(s){if(!s.exists())return;let n=y();n.objs.delete(s._id);let a=n.lastObjID++;return n.objs.set(a,s),s._id=a,s}r(pe,"readd");function Te(s,n,a){let d=y();d.events[s]||(d.events[s]=[]),d.events[s].push({tag:n,cb:a})}r(Te,"on");function h(s,n){typeof s=="function"&&n===void 0?y().action.push(s):typeof s=="string"&&Te("update",s,n)}r(h,"action");function x(s,n){typeof s=="function"&&n===void 0?y().render.push(s):typeof s=="string"&&Te("update",s,n)}r(x,"render");function b(s,n,a){h(s,d=>{d._checkCollisions(n,u=>{a(d,u)})})}r(b,"collides");function L(s,n,a){h(s,d=>{d._checkOverlaps(n,u=>{a(d,u)})})}r(L,"overlaps");function z(s,n){h(s,a=>{a.isClicked()&&n(a)})}r(z,"clicks");function V(s,n){return new Promise(a=>{let d=y();d.timers[d.lastTimerID++]={time:s,cb:()=>{n&&n(),a()}}})}r(V,"wait");function K(s,n){let a=!1,d=r(()=>{a||(n(),V(s,d))},"newF");return d(),{stop(){a=!0}}}r(K,"loop");function C(s,n,a){if(Array.isArray(n))for(let d of n)C(s,d,a);else y().events[s].push({key:n,cb:a})}r(C,"pushKeyEvent");function P(s,n){C("keyDown",s,n)}r(P,"keyDown");function X(s,n){C("keyPress",s,n)}r(X,"keyPress");function F(s,n){C("keyPressRep",s,n)}r(F,"keyPressRep");function Z(s,n){C("keyRelease",s,n)}r(Z,"keyRelease");function re(s){y().events.charInput.push({cb:s})}r(re,"charInput");function ye(s){y().events.mouseDown.push({cb:s})}r(ye,"mouseDown");function Ie(s){y().events.mouseClick.push({cb:s})}r(Ie,"mouseClick");function Le(s){y().events.mouseRelease.push({cb:s})}r(Le,"mouseRelease");function se(s){let n=y(),a=[...n.objs.values()].sort((d,u)=>{var l,g,D,N,Q,de;let p=(D=(g=n.layers[(l=d.layer)!=null?l:n.defLayer])==null?void 0:g.order)!=null?D:0,c=(de=(Q=n.layers[(N=u.layer)!=null?N:n.defLayer])==null?void 0:Q.order)!=null?de:0;return p-c});return s?a.filter(d=>d.is(s)):a}r(se,"get");function he(s,n){typeof s=="function"&&n===void 0?se().forEach(s):typeof s=="string"&&se(s).forEach(n)}r(he,"every");function Se(s,n){typeof s=="function"&&n===void 0?se().reverse().forEach(s):typeof s=="string"&&se(s).reverse().forEach(n)}r(Se,"revery");function ie(s){if(!s.exists())return;let n=y();!n||(s.trigger("destroy"),n.objs.delete(s._id),delete s._id)}r(ie,"destroy");function Ve(s){he(s,n=>{ie(n)})}r(Ve,"destroyAll");function Fe(s){let n=y();return s!==void 0&&(n.gravity=s),n.gravity}r(Fe,"gravity");function Ee(s){let n=y();if(!n)throw new Error(`scene not found: '${_.curScene}'`);let a=s||!W.paused;if(a)for(let c in n.timers){let l=n.timers[c];l.time-=k(),l.time<=0&&(l.cb(),delete n.timers[c])}if(Se(c=>{!c.paused&&a&&c.trigger("update")}),a)for(let c of n.action)c();let d=f(o.width(),o.height()),u=n.cam,p=rt(ke(0,Math.PI*2)).scale(u.shake);u.shake=_e(u.shake,0,5*k()),u.matrix=ee().translate(d.scale(.5)).scale(u.scale).rotateZ(u.angle).translate(d.scale(-.5)).translate(u.pos.scale(-1).add(d.scale(.5)).add(p)),u.mpos=u.matrix.invert().multVec2(e.mousePos()),he(c=>{c.hidden||(o.pushTransform(),j(c.layer)&&o.pushMatrix(u.matrix),c.trigger("draw"),o.popTransform())});for(let c of n.render)c()}r(Ee,"gameFrame");function Ne(){let s=y();for(let n of s.events.charInput)e.charInputted().forEach(n.cb);for(let n of s.events.keyDown)e.keyDown(n.key)&&n.cb();for(let n of s.events.keyPress)e.keyPressed(n.key)&&n.cb();for(let n of s.events.keyPressRep)e.keyPressedRep(n.key)&&n.cb();for(let n of s.events.keyRelease)e.keyReleased(n.key)&&n.cb();for(let n of s.events.mouseDown)e.mouseDown()&&n.cb();for(let n of s.events.mouseClick)e.mouseClicked()&&n.cb();for(let n of s.events.mouseRelease)e.mouseReleased()&&n.cb()}r(Ne,"handleEvents");function Ce(){var c;let s=y(),n=null,a=m.defFont(),d=Y((c=t.inspectColor)!=null?c:[0,1,1,1]);function u(l,g,D){let N=f(4).scale(1/D),Q=o.fmtText(g,a,{size:12/D,pos:l.add(f(N.x,N.y))});o.drawRect(l,Q.width+N.x*2,Q.height+N.x*2,{color:Y(0,0,0,1)}),o.drawFmtText(Q)}r(u,"drawInspectTxt");function p(l,g){let D=j(l.layer),N=o.scale()*(D?(s.cam.scale.x+s.cam.scale.y)/2:1);D&&(o.pushTransform(),o.pushMatrix(s.cam.matrix)),g(N),D&&o.popTransform()}r(p,"drawObj"),Se(l=>{!l.area||l.hidden||p(l,g=>{n||l.isHovered()&&(n=l);let D=(n===l?6:2)/g,N=l._worldArea(),Q=N.p2.x-N.p1.x,de=N.p2.y-N.p1.y;o.drawRectStroke(N.p1,Q,de,{width:D,color:d})})}),n&&p(n,l=>{let g=T(n.layer),D=[];for(let N of n._tags)D.push(`"${N}"`);for(let N of n._events.inspect){let Q=N();for(let de in Q)D.push(`${de}: ${Q[de]}`)}u(g,D.join(`
`),l)}),u(f(0),e.fps()+"",o.scale())}r(Ce,"drawInspect");function Ue(s,...n){e.run(()=>{if(o.frameStart(),_.loaded){try{if(!y())throw new Error(`scene not found: '${_.curScene}'`);Ne(),Ee(),W.inspect&&Ce()}catch(a){v.error(a.stack),e.quit()}W.showLog&&v.draw(),_.nextScene&&(J.apply(null,[_.nextScene.name,..._.nextScene.args]),_.nextScene=null)}else{let a=m.loadProgress();if(a===1)_.loaded=!0,J(s,...n),A&&A.connect().catch(v.error);else{let d=o.width()/2,u=24/o.scale(),p=f(o.width()/2,o.height()/2).sub(f(d/2,u/2));o.drawRect(f(0),o.width(),o.height(),{color:qe(0,0,0)}),o.drawRectStroke(p,d,u,{width:4/o.scale()}),o.drawRect(p,d*a,u)}}o.frameEnd()})}r(Ue,"start");function Ge(...s){return{pos:f(...s),move(...n){let a=f(...n),d=a.x*k(),u=a.y*k();this.pos.x+=d,this.pos.y+=u},inspect(){return{pos:`(${~~this.pos.x}, ${~~this.pos.y})`}}}}r(Ge,"pos");function We(...s){return s.length===0?We(1):{scale:f(...s),flipX(n){this.scale.x=Math.sign(n)*Math.abs(this.scale.x)},flipY(n){this.scale.y=Math.sign(n)*Math.abs(this.scale.y)}}}r(We,"scale");function At(s){return{angle:s!=null?s:0}}r(At,"rotate");function _t(...s){return{color:Y(...s)}}r(_t,"color");function kt(s){return{origin:s}}r(kt,"origin");function Dt(s){return{layer:s,inspect(){var a;let n=y();return{layer:(a=this.layer)!=null?a:n.defLayer}}}}r(Dt,"layer");function Be(s,n){var d,u;let a=y();return((d=s.layer)!=null?d:a.defLayer)===((u=n.layer)!=null?u:a.defLayer)}r(Be,"isSameLayer");function Ke(s,n){let a={},d={};return{area:{p1:s,p2:n},areaWidth(){let{p1:u,p2:p}=this._worldArea();return p.x-u.x},areaHeight(){let{p1:u,p2:p}=this._worldArea();return p.y-u.y},isClicked(){return e.mouseClicked()&&this.isHovered()},isHovered(){return this.hasPt(T(this.layer))},isCollided(u){if(!u.area||!Be(this,u))return!1;let p=this._worldArea(),c=u._worldArea();return ze(p,c)},isOverlapped(u){if(!u.area||!Be(this,u))return!1;let p=this._worldArea(),c=u._worldArea();return ht(p,c)},clicks(u){this.action(()=>{this.isClicked()&&u()})},hovers(u){this.action(()=>{this.isHovered()&&u()})},collides(u,p){this.action(()=>{this._checkCollisions(u,p)})},overlaps(u,p){this.action(()=>{this._checkOverlaps(u,p)})},hasPt(u){let p=this._worldArea();return mt({p1:p.p1,p2:p.p2},u)},resolve(){let u=[];return he(p=>{if(p===this||!p.solid||!p.area||!Be(this,p))return;let c=this._worldArea(),l=p._worldArea();if(!ze(c,l))return;let g=c.p2.x-l.p1.x,D=l.p2.x-c.p1.x,N=c.p2.y-l.p1.y,Q=l.p2.y-c.p1.y,de=Math.min(g,D,N,Q),Nt=(()=>{switch(de){case g:return this.pos.x-=g,"right";case D:return this.pos.x+=D,"left";case N:return this.pos.y-=N,"bottom";case Q:return this.pos.y+=Q,"top"}})();u.push({obj:p,side:Nt})}),u},_checkCollisions(u,p){he(u,c=>{this!==c&&(a[c._id]||this.isCollided(c)&&(p(c),a[c._id]=c))});for(let c in a){let l=a[c];this.isCollided(l)||delete a[c]}},_checkOverlaps(u,p){he(u,c=>{this!==c&&(d[c._id]||this.isOverlapped(c)&&(p(c),d[c._id]=c))});for(let c in d){let l=d[c];this.isOverlapped(l)||delete d[c]}},_worldArea(){let u=this.area,p=this.pos||f(0),c=this.scale||f(1),l=p.add(u.p1.dot(c)),g=p.add(u.p2.dot(c));return{p1:f(Math.min(l.x,g.x),Math.min(l.y,g.y)),p2:f(Math.max(l.x,g.x),Math.max(l.y,g.y))}}}}r(Ke,"area");function Me(s,n,a){let d=f(s,n),u=Pe(a||B).dot(d).scale(-.5);return Ke(u.sub(d.scale(.5)),u.add(d.scale(.5)))}r(Me,"getAreaFromSize");function Pt(s,n={}){let a=m.sprites[s];if(!a)throw new Error(`sprite not found: "${s}"`);let d=me({},a.frames[0]);n.quad&&(d.x+=n.quad.x*d.w,d.y+=n.quad.y*d.h,d.w*=n.quad.w,d.h*=n.quad.h);let u=a.tex.width*d.w,p=a.tex.height*d.h,c=null;return{width:u,height:p,animSpeed:n.animSpeed||.1,frame:n.frame||0,quad:n.quad||oe(0,0,1,1),add(){!this.area&&!n.noArea&&this.use(Me(this.width,this.height,this.origin))},draw(){let l=y(),g=a.frames[this.frame];w(a,{pos:this.pos,scale:this.scale,rot:this.angle,color:this.color,frame:this.frame,origin:this.origin,quad:this.quad,prog:m.shaders[this.shader],uniform:this.uniform})},update(){if(!c)return;let l=a.anims[c.name];c.timer+=k(),c.timer>=this.animSpeed&&(this.frame++,this.frame>l.to&&(c.loop?this.frame=l.from:(this.frame--,this.stop())),c&&(c.timer-=this.animSpeed))},play(l,g=!0){let D=a.anims[l];if(!D)throw new Error(`anim not found: ${l}`);c&&this.stop(),c={name:l,loop:g,timer:0},this.frame=D.from,this.trigger("animPlay",l)},stop(){if(!c)return;let l=c.name;c=null,this.trigger("animEnd",l)},changeSprite(l){if(a=m.sprites[l],!a)throw new Error(`sprite not found: "${l}"`);let g=me({},a.frames[0]);n.quad&&(g.x+=n.quad.x*g.w,g.y+=n.quad.y*g.h,g.w*=n.quad.w,g.h*=n.quad.h),this.width=a.tex.width*g.w,this.height=a.tex.height*g.h,this.area&&!n.noArea&&this.use(Me(this.width,this.height,this.origin)),c=null,this.frame=0},numFrames(){return a.frames.length},curAnim(){return c==null?void 0:c.name},inspect(){let l={};return c&&(l.curAnim=`"${c.name}"`),l}}}r(Pt,"sprite");function It(s,n,a={}){return{text:s,textSize:n,font:a.font,width:0,height:0,add(){var d,u,p;if(!this.area&&!a.noArea){let c=y(),l=m.fonts[(d=this.font)!=null?d:Re],g=o.fmtText(this.text+"",l,{pos:this.pos,scale:this.scale,rot:this.angle,size:this.textSize,origin:this.origin,color:this.color,width:a.width});this.width=g.width/(((u=this.scale)==null?void 0:u.x)||1),this.height=g.height/(((p=this.scale)==null?void 0:p.y)||1),this.use(Me(this.width,this.height,this.origin))}},draw(){var c;let d=y(),u=m.fonts[(c=this.font)!=null?c:Re],p=o.fmtText(this.text+"",u,{pos:this.pos,scale:this.scale,rot:this.angle,size:this.textSize,origin:this.origin,color:this.color,width:a.width});this.width=p.width,this.height=p.height,o.drawFmtText(p)}}}r(It,"text");function Lt(s,n,a={}){return{width:s,height:n,add(){!this.area&&!a.noArea&&this.use(Me(this.width,this.height,this.origin))},draw(){let d=y();o.drawRect(this.pos,this.width,this.height,{scale:this.scale,rot:this.angle,color:this.color,origin:this.origin,prog:m.shaders[this.shader],uniform:this.uniform})}}}r(Lt,"rect");function Ft(){return{solid:!0}}r(Ft,"solid");let Gt=960,Mt=480;function qt(s={}){var p,c;let n=0,a=null,d=null,u=(p=s.maxVel)!=null?p:Gt;return{jumpForce:(c=s.jumpForce)!=null?c:Mt,update(){this.move(0,n);let l=this.resolve(),g=!1;if(a&&(!a.exists()||!this.isCollided(a)?(a=null,d=null,g=!0):d&&(this.pos=this.pos.add(a.pos.sub(d)),d=a.pos.clone())),!a){n=Math.min(n+Fe()*k(),u);for(let D of l)D.side==="bottom"&&n>0?(a=D.obj,n=0,d=a.pos.clone(),g||this.trigger("grounded",a)):D.side==="top"&&n<0&&(n=0,this.trigger("headbump",D.obj))}},curPlatform(){return a},grounded(){return a!==null},falling(){return n>0},jump(l){a=null,n=-l||-this.jumpForce}}}r(qt,"body");function Ot(s,n={}){let a=m.shaders[s];return{shader:s,uniform:n}}r(Ot,"shader");let W={paused:!1,inspect:!1,timeScale:1,showLog:!0,fps:e.fps,objCount(){return y().objs.size},stepFrame(){Ee(!0)},drawCalls:o.drawCalls,clearLog:v.clear,log:v.info,error:v.error};function Vt(s,n){let a=[],d=f(n.pos||0),u=0,p={getPos(...c){let l=f(...c);return f(d.x+l.x*n.width,d.y+l.y*n.height)},spawn(c,l){let g=(()=>{if(Array.isArray(c))return c;if(n[c]){if(typeof n[c]=="function")return n[c]();if(Array.isArray(n[c]))return[...n[c]]}else if(n.any)return n.any(c)})();if(!g)return;g.push(Ge(d.x+l.x*n.width,d.y+l.y*n.height));let D=le(g);return a.push(D),D.use({gridPos:l.clone(),setGridPos(N){this.gridPos=N.clone(),this.pos=f(d.x+this.gridPos.x*n.width,d.y+this.gridPos.y*n.height)},moveLeft(){this.setGridPos(this.gridPos.add(f(-1,0)))},moveRight(){this.setGridPos(this.gridPos.add(f(1,0)))},moveUp(){this.setGridPos(this.gridPos.add(f(0,-1)))},moveDown(){this.setGridPos(this.gridPos.add(f(0,1)))}}),D},width(){return u*n.width},height(){return s.length*n.height},destroy(){for(let c of a)ie(c)}};return s.forEach((c,l)=>{let g=c.split("");u=Math.max(g.length,u),g.forEach((D,N)=>{p.spawn(D,f(N,l))})}),p}r(Vt,"addLevel");let Ae={start:Ue,loadRoot:m.loadRoot,loadSprite:m.loadSprite,loadSound:m.loadSound,loadFont:m.loadFont,loadShader:m.loadShader,addLoader:m.addLoader,width:o.width,height:o.height,dt:k,time:e.time,screenshot:e.screenshot,scene:G,go:q,sceneData:H,layers:O,camPos:te,camScale:ne,camRot:ue,camShake:ce,camIgnore:fe,gravity:Fe,add:le,readd:pe,destroy:ie,destroyAll:Ve,get:se,every:he,revery:Se,send:$,recv:R,pos:Ge,scale:We,rotate:At,color:_t,origin:kt,layer:Dt,area:Ke,sprite:Pt,text:It,rect:Lt,solid:Ft,body:qt,shader:Ot,on:Te,action:h,render:x,collides:b,overlaps:L,clicks:z,keyDown:P,keyPress:X,keyPressRep:F,keyRelease:Z,charInput:re,mouseDown:ye,mouseClick:Ie,mouseRelease:Le,mousePos:T,cursor:e.cursor,keyIsDown:e.keyDown,keyIsPressed:e.keyPressed,keyIsPressedRep:e.keyPressedRep,keyIsReleased:e.keyReleased,mouseIsDown:e.mouseDown,mouseIsClicked:e.mouseClicked,mouseIsReleased:e.mouseReleased,loop:K,wait:V,play:I,volume:i.volume,makeRng:je,rand:ke,randSeed:ct,vec2:f,rgb:qe,rgba:Y,quad:oe,choose:ft,chance:dt,lerp:_e,map:ge,mapc:nt,wave:it,deg2rad:et,rad2deg:tt,drawSprite:w,drawText:S,drawRect:o.drawRect,drawRectStroke:o.drawRectStroke,drawLine:o.drawLine,debug:W,addLevel:Vt};if(t.plugins)for(let s of t.plugins){let n=s(Ae);for(let a in n)Ae[a]=n[a]}if(t.global)for(let s in Ae)window[s]=Ae[s];return Ae};
//# sourceMappingURL=kaboom.cjs.map


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var characters = __webpack_require__(/*! ./img/characters.png */ "./src/img/characters.png");
var tiles = __webpack_require__(/*! ./img/tiles.png */ "./src/img/tiles.png");
var kaboom_1 = __webpack_require__(/*! ./components/kaboom */ "./src/components/kaboom.ts");
var level_1 = __webpack_require__(/*! ./components/level */ "./src/components/level.ts");
// import { Score } from "./components/score";
kaboom_1.k.loadSprite("player", characters, {
    sliceX: 9,
    sliceY: 3,
    anims: {
        idle: { from: 0, to: 0 },
        run: { from: 0, to: 1 },
    },
});
kaboom_1.k.loadSprite("tiles", tiles, {
    sliceX: 9,
    sliceY: 3,
});
kaboom_1.k.scene("game", function () {
    kaboom_1.k.layers(["bg", "obj", "ui"], "obj");
    (0, level_1.Level)();
    // player();
});
kaboom_1.k.start("game");

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBdUIseUJBQXlCLGtCQUFrQix5Q0FBeUMsa0JBQWtCLEVBQUUsSUFBSSxpQkFBaUIsUUFBUSx1cENBQXVwQyxxQ0FBcUMsWUFBWSwwQkFBMEIsNENBQTRDO0FBQy8zUjs7Ozs7OztVQ3hEQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7Ozs7Ozs7OztBQ3RCYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxzREFBc0I7QUFDL0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFpQjtBQUNyQyxlQUFlLG1CQUFPLENBQUMsdURBQXFCO0FBQzVDLGNBQWMsbUJBQU8sQ0FBQyxxREFBb0I7QUFDMUMsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxlQUFlLGdCQUFnQjtBQUMvQixLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyZ2FtZS8uL3NyYy9jb21wb25lbnRzL2thYm9vbS50cyIsIndlYnBhY2s6Ly9zdXBlcmdhbWUvLi9zcmMvY29tcG9uZW50cy9sZXZlbC50cyIsIndlYnBhY2s6Ly9zdXBlcmdhbWUvLi9ub2RlX21vZHVsZXMva2Fib29tL2Rpc3Qva2Fib29tLmNqcyIsIndlYnBhY2s6Ly9zdXBlcmdhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3VwZXJnYW1lLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5rID0gdm9pZCAwO1xudmFyIGthYm9vbV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJrYWJvb21cIikpO1xudmFyIGsgPSAoMCwga2Fib29tXzEuZGVmYXVsdCkoe1xuICAgIGdsb2JhbDogdHJ1ZSxcbiAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgIHNjYWxlOiAxLFxuICAgIGRlYnVnOiB0cnVlLFxuICAgIGNsZWFyQ29sb3I6IFswLCAwLCAwLCAxXSxcbn0pO1xuZXhwb3J0cy5rID0gaztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MZXZlbCA9IHZvaWQgMDtcbnZhciBrYWJvb21fMSA9IHJlcXVpcmUoXCIuL2thYm9vbVwiKTtcbnZhciBsZXZlbHMgPSBbXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFxuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFxuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFxuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFxuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFxuICAgIFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgPT09PT09PT09PT09PT09PT09PT1cIixcbl07XG5mdW5jdGlvbiBMZXZlbCgpIHtcbiAgICBrYWJvb21fMS5rLmFkZExldmVsKGxldmVscywge1xuICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgIFwiPVwiOiBba2Fib29tXzEuay5zcHJpdGUoXCJ0aWxlc1wiLCB7IGZyYW1lOiAxIH0pLCBrYWJvb21fMS5rLnNvbGlkKCldLFxuICAgICAgICBhbnk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydHMuTGV2ZWwgPSBMZXZlbDtcbiIsInZhciBaZT1PYmplY3QuZGVmaW5lUHJvcGVydHksVXQ9T2JqZWN0LmRlZmluZVByb3BlcnRpZXM7dmFyIEJ0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO3ZhciBRZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBqdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHp0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7dmFyIEplPSh0LGUsbyk9PmUgaW4gdD9aZSh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm99KTp0W2VdPW8sbWU9KHQsZSk9Pntmb3IodmFyIG8gaW4gZXx8KGU9e30pKWp0LmNhbGwoZSxvKSYmSmUodCxvLGVbb10pO2lmKFFlKWZvcih2YXIgbyBvZiBRZShlKSl6dC5jYWxsKGUsbykmJkplKHQsbyxlW29dKTtyZXR1cm4gdH0seGU9KHQsZSk9PlV0KHQsQnQoZSkpO3ZhciByPSh0LGUpPT5aZSh0LFwibmFtZVwiLHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMH0pO2Z1bmN0aW9uIGV0KHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfXIoZXQsXCJkZWcycmFkXCIpO2Z1bmN0aW9uIHR0KHQpe3JldHVybiB0KjE4MC9NYXRoLlBJfXIodHQsXCJyYWQyZGVnXCIpO2Z1bmN0aW9uIGFlKHQsZSxvKXtyZXR1cm4gZT5vP2FlKHQsbyxlKTpNYXRoLm1pbihNYXRoLm1heCh0LGUpLG8pfXIoYWUsXCJjbGFtcFwiKTtmdW5jdGlvbiBfZSh0LGUsbyl7cmV0dXJuIHQrKGUtdCkqb31yKF9lLFwibGVycFwiKTtmdW5jdGlvbiBnZSh0LGUsbyxpLG0pe3JldHVybiBpKyh0LWUpLyhvLWUpKihtLWkpfXIoZ2UsXCJtYXBcIik7ZnVuY3Rpb24gbnQodCxlLG8saSxtKXtyZXR1cm4gYWUoZ2UodCxlLG8saSxtKSxpLG0pfXIobnQsXCJtYXBjXCIpO2Z1bmN0aW9uIGYoLi4udCl7aWYodC5sZW5ndGg9PT0wKXJldHVybiBmKDAsMCk7aWYodC5sZW5ndGg9PT0xKXtpZih0eXBlb2YgdFswXT09XCJudW1iZXJcIilyZXR1cm4gZih0WzBdLHRbMF0pO2lmKHdlKHRbMF0pKXJldHVybiBmKHRbMF0ueCx0WzBdLnkpO2lmKEFycmF5LmlzQXJyYXkodFswXSkmJnRbMF0ubGVuZ3RoPT09MilyZXR1cm4gZi5hcHBseShudWxsLHRbMF0pfXJldHVybnt4OnRbMF0seTp0WzFdLGNsb25lKCl7cmV0dXJuIGYodGhpcy54LHRoaXMueSl9LGFkZCguLi5lKXtsZXQgbz1mKC4uLmUpO3JldHVybiBmKHRoaXMueCtvLngsdGhpcy55K28ueSl9LHN1YiguLi5lKXtsZXQgbz1mKC4uLmUpO3JldHVybiBmKHRoaXMueC1vLngsdGhpcy55LW8ueSl9LHNjYWxlKGUpe3JldHVybiBmKHRoaXMueCplLHRoaXMueSplKX0sZGlzdCguLi5lKXtsZXQgbz1mKC4uLmUpO3JldHVybiBNYXRoLnNxcnQoKHRoaXMueC1vLngpKih0aGlzLngtby54KSsodGhpcy55LW8ueSkqKHRoaXMueS1vLnkpKX0sbGVuKCl7cmV0dXJuIHRoaXMuZGlzdChmKDAsMCkpfSx1bml0KCl7cmV0dXJuIHRoaXMuc2NhbGUoMS90aGlzLmxlbigpKX0sbm9ybWFsKCl7cmV0dXJuIGYodGhpcy55LC10aGlzLngpfSxkb3QoLi4uZSl7bGV0IG89ZiguLi5lKTtyZXR1cm4gZih0aGlzLngqby54LHRoaXMueSpvLnkpfSxhbmdsZSguLi5lKXtsZXQgbz1mKC4uLmUpO3JldHVybiBNYXRoLmF0YW4yKHRoaXMueS1vLnksdGhpcy54LW8ueCl9LGxlcnAoZSxvKXtyZXR1cm4gZihfZSh0aGlzLngsZS54LG8pLF9lKHRoaXMueSxlLnksbykpfSxlcShlKXtyZXR1cm4gdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LHN0cigpe3JldHVybmAoJHt0aGlzLnh9LCAke3RoaXMueX0pYH19fXIoZixcInZlYzJcIik7ZnVuY3Rpb24gcnQodCl7cmV0dXJuIGYoTWF0aC5jb3ModCksTWF0aC5zaW4odCkpfXIocnQsXCJ2ZWMyRnJvbUFuZ2xlXCIpO2Z1bmN0aW9uIHZlKHQsZSxvKXtyZXR1cm57eDp0LHk6ZSx6Om8seHkoKXtyZXR1cm4gZih0aGlzLngsdGhpcy55KX19fXIodmUsXCJ2ZWMzXCIpO2Z1bmN0aW9uIHdlKHQpe3JldHVybiB0IT09dm9pZCAwJiZ0LnghPT12b2lkIDAmJnQueSE9PXZvaWQgMH1yKHdlLFwiaXNWZWMyXCIpO2Z1bmN0aW9uIHN0KHQpe3JldHVybiB0IT09dm9pZCAwJiZ0LnghPT12b2lkIDAmJnQueSE9PXZvaWQgMCYmdC56IT09dm9pZCAwfXIoc3QsXCJpc1ZlYzNcIik7ZnVuY3Rpb24gYmUodCl7cmV0dXJuIHQhPT12b2lkIDAmJnQuciE9PXZvaWQgMCYmdC5nIT09dm9pZCAwJiZ0LmIhPT12b2lkIDAmJnQuYSE9PXZvaWQgMH1yKGJlLFwiaXNDb2xvclwiKTtmdW5jdGlvbiBvdCh0KXtpZih0IT09dm9pZCAwJiZBcnJheS5pc0FycmF5KHQubSkmJnQubS5sZW5ndGg9PT0xNilyZXR1cm4gdH1yKG90LFwiaXNNYXQ0XCIpO2Z1bmN0aW9uIHFlKC4uLnQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gWSgpO2lmKHQubGVuZ3RoPT09MSl7aWYoYmUodFswXSkpcmV0dXJuIFkodFswXSk7aWYoQXJyYXkuaXNBcnJheSh0WzBdKSYmdFswXS5sZW5ndGg9PT0zKXJldHVybiBxZS5hcHBseShudWxsLHRbMF0pfXJldHVybiBZKHRbMF0sdFsxXSx0WzJdLDEpfXIocWUsXCJyZ2JcIik7ZnVuY3Rpb24gWSguLi50KXt2YXIgZTtpZih0Lmxlbmd0aD09PTApcmV0dXJuIFkoMSwxLDEsMSk7aWYodC5sZW5ndGg9PT0xKXtpZihiZSh0WzBdKSlyZXR1cm4gWSh0WzBdLnIsdFswXS5nLHRbMF0uYix0WzBdLmEpO2lmKEFycmF5LmlzQXJyYXkodFswXSkmJnRbMF0ubGVuZ3RoPT09NClyZXR1cm4gWS5hcHBseShudWxsLHRbMF0pfXJldHVybntyOnRbMF0sZzp0WzFdLGI6dFsyXSxhOihlPXRbM10pIT1udWxsP2U6MSxjbG9uZSgpe3JldHVybiBZKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSl9LGxpZ2h0ZW4obyl7cmV0dXJuIFkodGhpcy5yK28sdGhpcy5nK28sdGhpcy5iK28sdGhpcy5hKX0sZGFya2VuKG8pe3JldHVybiB0aGlzLmxpZ2h0ZW4oLW8pfSxpbnZlcnQoKXtyZXR1cm4gWSgxLXRoaXMuciwxLXRoaXMuZywxLXRoaXMuYix0aGlzLmEpfSxpc0Rhcmsobz0uNSl7cmV0dXJuIHRoaXMucit0aGlzLmcrdGhpcy5iPDMqb30saXNMaWdodChvPS41KXtyZXR1cm4gdGhpcy5yK3RoaXMuZyt0aGlzLmI+MypvfSxlcShvKXtyZXR1cm4gdGhpcy5yPT09by5yJiZ0aGlzLmc9PT1vLmcmJnRoaXMuYj09PW8uZyYmdGhpcy5hPT09by5hfX19cihZLFwicmdiYVwiKTtmdW5jdGlvbiBvZSh0LGUsbyxpKXtyZXR1cm57eDp0LHk6ZSx3Om8saDppLGNsb25lKCl7cmV0dXJuIG9lKHRoaXMueCx0aGlzLnksdGhpcy53LHRoaXMuaCl9LGVxKG0pe3JldHVybiB0aGlzLng9PT1tLngmJnRoaXMueT09PW0ueSYmdGhpcy53PT09bS53JiZ0aGlzLmg9PT1tLmh9fX1yKG9lLFwicXVhZFwiKTtmdW5jdGlvbiBlZSh0KXtyZXR1cm57bTp0P1suLi50XTpbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sY2xvbmUoKXtyZXR1cm4gZWUodGhpcy5tKX0sbXVsdChlKXtsZXQgbz1bXTtmb3IobGV0IGk9MDtpPDQ7aSsrKWZvcihsZXQgbT0wO208NDttKyspb1tpKjQrbV09dGhpcy5tWzAqNCttXSplLm1baSo0KzBdK3RoaXMubVsxKjQrbV0qZS5tW2kqNCsxXSt0aGlzLm1bMio0K21dKmUubVtpKjQrMl0rdGhpcy5tWzMqNCttXSplLm1baSo0KzNdO3JldHVybiBlZShvKX0sbXVsdFZlYzQoZSl7cmV0dXJue3g6ZS54KnRoaXMubVswXStlLnkqdGhpcy5tWzRdK2Uueip0aGlzLm1bOF0rZS53KnRoaXMubVsxMl0seTplLngqdGhpcy5tWzFdK2UueSp0aGlzLm1bNV0rZS56KnRoaXMubVs5XStlLncqdGhpcy5tWzEzXSx6OmUueCp0aGlzLm1bMl0rZS55KnRoaXMubVs2XStlLnoqdGhpcy5tWzEwXStlLncqdGhpcy5tWzE0XSx3OmUueCp0aGlzLm1bM10rZS55KnRoaXMubVs3XStlLnoqdGhpcy5tWzExXStlLncqdGhpcy5tWzE1XX19LG11bHRWZWMzKGUpe2xldCBvPXRoaXMubXVsdFZlYzQoe3g6ZS54LHk6ZS55LHo6ZS56LHc6MX0pO3JldHVybiB2ZShvLngsby55LG8ueil9LG11bHRWZWMyKGUpe3JldHVybiBmKGUueCp0aGlzLm1bMF0rZS55KnRoaXMubVs0XSswKnRoaXMubVs4XSsxKnRoaXMubVsxMl0sZS54KnRoaXMubVsxXStlLnkqdGhpcy5tWzVdKzAqdGhpcy5tWzldKzEqdGhpcy5tWzEzXSl9LHRyYW5zbGF0ZShlKXtyZXR1cm4gdGhpcy5tdWx0KGVlKFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLngsZS55LDAsMV0pKX0sc2NhbGUoZSl7cmV0dXJuIHRoaXMubXVsdChlZShbZS54LDAsMCwwLDAsZS55LDAsMCwwLDAsMSwwLDAsMCwwLDFdKSl9LHJvdGF0ZVgoZSl7cmV0dXJuIHRoaXMubXVsdChlZShbMSwwLDAsMCwwLE1hdGguY29zKGUpLC1NYXRoLnNpbihlKSwwLDAsTWF0aC5zaW4oZSksTWF0aC5jb3MoZSksMCwwLDAsMCwxXSkpfSxyb3RhdGVZKGUpe3JldHVybiB0aGlzLm11bHQoZWUoW01hdGguY29zKGUpLDAsLU1hdGguc2luKGUpLDAsMCwxLDAsMCxNYXRoLnNpbihlKSwwLE1hdGguY29zKGUpLDAsMCwwLDAsMV0pKX0scm90YXRlWihlKXtyZXR1cm4gdGhpcy5tdWx0KGVlKFtNYXRoLmNvcyhlKSwtTWF0aC5zaW4oZSksMCwwLE1hdGguc2luKGUpLE1hdGguY29zKGUpLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSl9LGludmVydCgpe2xldCBlPVtdLG89dGhpcy5tWzEwXSp0aGlzLm1bMTVdLXRoaXMubVsxNF0qdGhpcy5tWzExXSxpPXRoaXMubVs5XSp0aGlzLm1bMTVdLXRoaXMubVsxM10qdGhpcy5tWzExXSxtPXRoaXMubVs5XSp0aGlzLm1bMTRdLXRoaXMubVsxM10qdGhpcy5tWzEwXSx2PXRoaXMubVs4XSp0aGlzLm1bMTVdLXRoaXMubVsxMl0qdGhpcy5tWzExXSxBPXRoaXMubVs4XSp0aGlzLm1bMTRdLXRoaXMubVsxMl0qdGhpcy5tWzEwXSxSPXRoaXMubVs4XSp0aGlzLm1bMTNdLXRoaXMubVsxMl0qdGhpcy5tWzldLCQ9dGhpcy5tWzZdKnRoaXMubVsxNV0tdGhpcy5tWzE0XSp0aGlzLm1bN10saz10aGlzLm1bNV0qdGhpcy5tWzE1XS10aGlzLm1bMTNdKnRoaXMubVs3XSxJPXRoaXMubVs1XSp0aGlzLm1bMTRdLXRoaXMubVsxM10qdGhpcy5tWzZdLGo9dGhpcy5tWzRdKnRoaXMubVsxNV0tdGhpcy5tWzEyXSp0aGlzLm1bN10sVD10aGlzLm1bNF0qdGhpcy5tWzE0XS10aGlzLm1bMTJdKnRoaXMubVs2XSx3PXRoaXMubVs1XSp0aGlzLm1bMTVdLXRoaXMubVsxM10qdGhpcy5tWzddLFM9dGhpcy5tWzRdKnRoaXMubVsxM10tdGhpcy5tWzEyXSp0aGlzLm1bNV0sVT10aGlzLm1bNl0qdGhpcy5tWzExXS10aGlzLm1bMTBdKnRoaXMubVs3XSxCPXRoaXMubVs1XSp0aGlzLm1bMTFdLXRoaXMubVs5XSp0aGlzLm1bN10sXz10aGlzLm1bNV0qdGhpcy5tWzEwXS10aGlzLm1bOV0qdGhpcy5tWzZdLEc9dGhpcy5tWzRdKnRoaXMubVsxMV0tdGhpcy5tWzhdKnRoaXMubVs3XSx5PXRoaXMubVs0XSp0aGlzLm1bMTBdLXRoaXMubVs4XSp0aGlzLm1bNl0sSD10aGlzLm1bNF0qdGhpcy5tWzldLXRoaXMubVs4XSp0aGlzLm1bNV07ZVswXT10aGlzLm1bNV0qby10aGlzLm1bNl0qaSt0aGlzLm1bN10qbSxlWzRdPS0odGhpcy5tWzRdKm8tdGhpcy5tWzZdKnYrdGhpcy5tWzddKkEpLGVbOF09dGhpcy5tWzRdKmktdGhpcy5tWzVdKnYrdGhpcy5tWzddKlIsZVsxMl09LSh0aGlzLm1bNF0qbS10aGlzLm1bNV0qQSt0aGlzLm1bNl0qUiksZVsxXT0tKHRoaXMubVsxXSpvLXRoaXMubVsyXSppK3RoaXMubVszXSptKSxlWzVdPXRoaXMubVswXSpvLXRoaXMubVsyXSp2K3RoaXMubVszXSpBLGVbOV09LSh0aGlzLm1bMF0qaS10aGlzLm1bMV0qdit0aGlzLm1bM10qUiksZVsxM109dGhpcy5tWzBdKm0tdGhpcy5tWzFdKkErdGhpcy5tWzJdKlIsZVsyXT10aGlzLm1bMV0qJC10aGlzLm1bMl0qayt0aGlzLm1bM10qSSxlWzZdPS0odGhpcy5tWzBdKiQtdGhpcy5tWzJdKmordGhpcy5tWzNdKlQpLGVbMTBdPXRoaXMubVswXSp3LXRoaXMubVsxXSpqK3RoaXMubVszXSpTLGVbMTRdPS0odGhpcy5tWzBdKkktdGhpcy5tWzFdKlQrdGhpcy5tWzJdKlMpLGVbM109LSh0aGlzLm1bMV0qVS10aGlzLm1bMl0qQit0aGlzLm1bM10qXyksZVs3XT10aGlzLm1bMF0qVS10aGlzLm1bMl0qRyt0aGlzLm1bM10qeSxlWzExXT0tKHRoaXMubVswXSpCLXRoaXMubVsxXSpHK3RoaXMubVszXSpIKSxlWzE1XT10aGlzLm1bMF0qXy10aGlzLm1bMV0qeSt0aGlzLm1bMl0qSDtsZXQgTT10aGlzLm1bMF0qZVswXSt0aGlzLm1bMV0qZVs0XSt0aGlzLm1bMl0qZVs4XSt0aGlzLm1bM10qZVsxMl07Zm9yKGxldCBxPTA7cTw0O3ErKylmb3IobGV0IEo9MDtKPDQ7SisrKWVbcSo0K0pdKj0xL007cmV0dXJuIGVlKGUpfX19cihlZSxcIm1hdDRcIik7ZnVuY3Rpb24gaXQodCxlLG8pe3JldHVybiB0KyhNYXRoLnNpbihvKSsxKS8yKihlLXQpfXIoaXQsXCJ3YXZlXCIpO3ZhciBYdD0xMTAzNTE1MjQ1LFl0PTEyMzQ1LGF0PTIxNDc0ODM2NDgsdXQ9amUoRGF0ZS5ub3coKSk7ZnVuY3Rpb24gamUodCl7cmV0dXJue3NlZWQ6dCxnZW4oLi4uZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLnNlZWQ9KFh0KnRoaXMuc2VlZCtZdCklYXQsdGhpcy5zZWVkL2F0O2lmKGUubGVuZ3RoPT09MSl7aWYodHlwZW9mIGVbMF09PVwibnVtYmVyXCIpcmV0dXJuIHRoaXMuZ2VuKDAsZVswXSk7aWYod2UoZVswXSkpcmV0dXJuIHRoaXMuZ2VuKGYoMCwwKSxlWzBdKTtpZihiZShlWzBdKSlyZXR1cm4gdGhpcy5nZW4oWSgwLDAsMCwwKSxlWzBdKX1lbHNlIGlmKGUubGVuZ3RoPT09Mil7aWYodHlwZW9mIGVbMF09PVwibnVtYmVyXCImJnR5cGVvZiBlWzFdPT1cIm51bWJlclwiKXJldHVybiB0aGlzLmdlbigpKihlWzFdLWVbMF0pK2VbMF07aWYod2UoZVswXSkmJndlKGVbMV0pKXJldHVybiBmKHRoaXMuZ2VuKGVbMF0ueCxlWzFdLngpLHRoaXMuZ2VuKGVbMF0ueSxlWzFdLnkpKTtpZihiZShlWzBdKSYmYmUoZVsxXSkpcmV0dXJuIFkodGhpcy5nZW4oZVswXS5yLGVbMV0uciksdGhpcy5nZW4oZVswXS5nLGVbMV0uZyksdGhpcy5nZW4oZVswXS5iLGVbMV0uYiksdGhpcy5nZW4oZVswXS5hLGVbMV0uYSkpfX19fXIoamUsXCJtYWtlUm5nXCIpO2Z1bmN0aW9uIGN0KHQpe3V0LnNlZWQ9dH1yKGN0LFwicmFuZFNlZWRcIik7ZnVuY3Rpb24ga2UoLi4udCl7cmV0dXJuIHV0LmdlbiguLi50KX1yKGtlLFwicmFuZFwiKTtmdW5jdGlvbiBkdCh0KXtyZXR1cm4ga2UoKTw9dH1yKGR0LFwiY2hhbmNlXCIpO2Z1bmN0aW9uIGZ0KHQpe3JldHVybiB0W01hdGguZmxvb3Ioa2UodC5sZW5ndGgpKV19cihmdCxcImNob29zZVwiKTtmdW5jdGlvbiB6ZSh0LGUpe3JldHVybiB0LnAyLng+PWUucDEueCYmdC5wMS54PD1lLnAyLngmJnQucDIueT49ZS5wMS55JiZ0LnAxLnk8PWUucDIueX1yKHplLFwiY29sUmVjdFJlY3RcIik7ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gdC5wMi54PmUucDEueCYmdC5wMS54PGUucDIueCYmdC5wMi55PmUucDEueSYmdC5wMS55PGUucDIueX1yKGh0LFwib3ZlcmxhcFJlY3RSZWN0XCIpO2Z1bmN0aW9uIG10KHQsZSl7cmV0dXJuIGUueD49dC5wMS54JiZlLng8PXQucDIueCYmZS55Pj10LnAxLnkmJmUueTx0LnAyLnl9cihtdCxcImNvbFJlY3RQdFwiKTtmdW5jdGlvbiBYZSh0LGUpe2xldCBvPXR5cGVvZiB0LGk9dHlwZW9mIGU7aWYobyE9PWkpcmV0dXJuITE7aWYobz09PVwib2JqZWN0XCImJmk9PT1cIm9iamVjdFwiKXtsZXQgbT1PYmplY3Qua2V5cyh0KSx2PU9iamVjdC5rZXlzKGUpO2lmKG0ubGVuZ3RoIT09di5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBBIG9mIG0pe2xldCBSPXRbQV0sJD1lW0FdO2lmKCEodHlwZW9mIFI9PVwiZnVuY3Rpb25cIiYmdHlwZW9mICQ9PVwiZnVuY3Rpb25cIikmJiFYZShSLCQpKXJldHVybiExfXJldHVybiEwfXJldHVybiB0PT09ZX1yKFhlLFwiZGVlcEVxXCIpO3ZhciBZZT1cInRvcGxlZnRcIixEZT05LE9lPTY1NTM2LGx0PTY0LCR0PWBcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zO1xuYXR0cmlidXRlIHZlYzIgYV91djtcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XG5cbnZhcnlpbmcgdmVjMyB2X3BvcztcbnZhcnlpbmcgdmVjMiB2X3V2O1xudmFyeWluZyB2ZWM0IHZfY29sb3I7XG5cbnZlYzQgZGVmX3ZlcnQoKSB7XG5cdHJldHVybiB2ZWM0KGFfcG9zLCAxLjApO1xufVxuXG57e3VzZXJ9fVxuXG52b2lkIG1haW4oKSB7XG5cdHZlYzQgcG9zID0gdmVydChhX3BvcywgYV91diwgYV9jb2xvcik7XG5cdHZfcG9zID0gYV9wb3M7XG5cdHZfdXYgPSBhX3V2O1xuXHR2X2NvbG9yID0gYV9jb2xvcjtcblx0Z2xfUG9zaXRpb24gPSBwb3M7XG59XG5gLEh0PWBcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzMgdl9wb3M7XG52YXJ5aW5nIHZlYzIgdl91djtcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xuXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleDtcblxudmVjNCBkZWZfZnJhZygpIHtcblx0cmV0dXJuIHZfY29sb3IgKiB0ZXh0dXJlMkQodV90ZXgsIHZfdXYpO1xufVxuXG57e3VzZXJ9fVxuXG52b2lkIG1haW4oKSB7XG5cdGdsX0ZyYWdDb2xvciA9IGZyYWcodl9wb3MsIHZfdXYsIHZfY29sb3IsIHVfdGV4KTtcblx0aWYgKGdsX0ZyYWdDb2xvci5hID09IDAuMCkge1xuXHRcdGRpc2NhcmQ7XG5cdH1cbn1cbmAsJGU9YFxudmVjNCB2ZXJ0KHZlYzMgcG9zLCB2ZWMyIHV2LCB2ZWM0IGNvbG9yKSB7XG5cdHJldHVybiBkZWZfdmVydCgpO1xufVxuYCxIZT1gXG52ZWM0IGZyYWcodmVjMyBwb3MsIHZlYzIgdXYsIHZlYzQgY29sb3IsIHNhbXBsZXIyRCB0ZXgpIHtcblx0cmV0dXJuIGRlZl9mcmFnKCk7XG59XG5gO2Z1bmN0aW9uIFBlKHQpe3N3aXRjaCh0KXtjYXNlXCJ0b3BsZWZ0XCI6cmV0dXJuIGYoLTEsLTEpO2Nhc2VcInRvcFwiOnJldHVybiBmKDAsLTEpO2Nhc2VcInRvcHJpZ2h0XCI6cmV0dXJuIGYoMSwtMSk7Y2FzZVwibGVmdFwiOnJldHVybiBmKC0xLDApO2Nhc2VcImNlbnRlclwiOnJldHVybiBmKDAsMCk7Y2FzZVwicmlnaHRcIjpyZXR1cm4gZigxLDApO2Nhc2VcImJvdGxlZnRcIjpyZXR1cm4gZigtMSwxKTtjYXNlXCJib3RcIjpyZXR1cm4gZigwLDEpO2Nhc2VcImJvdHJpZ2h0XCI6cmV0dXJuIGYoMSwxKTtkZWZhdWx0OnJldHVybiB0fX1yKFBlLFwib3JpZ2luUHRcIik7ZnVuY3Rpb24gcHQodCxlKXtsZXQgbz0oKCk9Pntzd2l0Y2goZS50ZXhGaWx0ZXIpe2Nhc2VcImxpbmVhclwiOnJldHVybiB0LkxJTkVBUjtjYXNlXCJuZWFyZXN0XCI6cmV0dXJuIHQuTkVBUkVTVDtkZWZhdWx0OnJldHVybiB0Lk5FQVJFU1R9fSkoKSxpPSgoKT0+e3ZhciBLO2xldCBoPUEoJGUsSGUpLHg9dihuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShbMjU1LDI1NSwyNTUsMjU1XSksMSwxKSksYj0oSz1lLmNsZWFyQ29sb3IpIT1udWxsP0s6WSgwLDAsMCwxKTt0LmNsZWFyQ29sb3IoYi5yLGIuZyxiLmIsYi5hKSx0LmVuYWJsZSh0LkJMRU5EKSx0LmJsZW5kRnVuY1NlcGFyYXRlKHQuU1JDX0FMUEhBLHQuT05FX01JTlVTX1NSQ19BTFBIQSx0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEEpO2xldCBMPXQuY3JlYXRlQnVmZmVyKCk7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLEwpLHQuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixPZSo0LHQuRFlOQU1JQ19EUkFXKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsbnVsbCk7bGV0IHo9dC5jcmVhdGVCdWZmZXIoKTt0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUix6KSx0LmJ1ZmZlckRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixPZSoyLHQuRFlOQU1JQ19EUkFXKSx0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixudWxsKTtsZXQgVj12KG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KFsxMjgsMTI4LDEyOCwyNTUsMTkwLDE5MCwxOTAsMjU1LDE5MCwxOTAsMTkwLDI1NSwxMjgsMTI4LDEyOCwyNTVdKSwyLDIpKTtyZXR1cm57ZHJhd0NhbGxzOjAsbGFzdERyYXdDYWxsczowLGRlZlByb2c6aCxjdXJQcm9nOmgsZGVmVGV4OngsY3VyVGV4OngsY3VyVW5pZm9ybTp7fSx2YnVmOkwsaWJ1Zjp6LHZxdWV1ZTpbXSxpcXVldWU6W10sdHJhbnNmb3JtOmVlKCksdHJhbnNmb3JtU3RhY2s6W10sY2xlYXJDb2xvcjpiLGJnVGV4OlZ9fSkoKTtJKCksaigpO2Z1bmN0aW9uIG0oaCl7cmV0dXJuIE1hdGgubG9nKGgpL01hdGgubG9nKDIpJTE9PTB9cihtLFwicG93ZXJPZlR3b1wiKTtmdW5jdGlvbiB2KGgpe2xldCB4PXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHgpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxoKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLG8pLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsbyk7bGV0IGI9KCgpPT5tKGgud2lkdGgpJiZtKGguaGVpZ2h0KT90LlJFUEVBVDp0LkNMQU1QX1RPX0VER0UpKCk7cmV0dXJuIHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyxiKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsYiksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCkse3dpZHRoOmgud2lkdGgsaGVpZ2h0OmguaGVpZ2h0LGJpbmQoKXt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx4KX0sdW5iaW5kKCl7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCl9fX1yKHYsXCJtYWtlVGV4XCIpO2Z1bmN0aW9uIEEoaD0kZSx4PUhlKXtsZXQgYixMPSR0LnJlcGxhY2UoXCJ7e3VzZXJ9fVwiLGghPW51bGw/aDokZSksej1IdC5yZXBsYWNlKFwie3t1c2VyfX1cIix4IT1udWxsP3g6SGUpLFY9dC5jcmVhdGVTaGFkZXIodC5WRVJURVhfU0hBREVSKSxLPXQuY3JlYXRlU2hhZGVyKHQuRlJBR01FTlRfU0hBREVSKTtpZih0LnNoYWRlclNvdXJjZShWLEwpLHQuc2hhZGVyU291cmNlKEsseiksdC5jb21waWxlU2hhZGVyKFYpLHQuY29tcGlsZVNoYWRlcihLKSxiPXQuZ2V0U2hhZGVySW5mb0xvZyhWKSl0aHJvdyBuZXcgRXJyb3IoYik7aWYoYj10LmdldFNoYWRlckluZm9Mb2coSykpdGhyb3cgbmV3IEVycm9yKGIpO2xldCBDPXQuY3JlYXRlUHJvZ3JhbSgpO2lmKHQuYXR0YWNoU2hhZGVyKEMsViksdC5hdHRhY2hTaGFkZXIoQyxLKSx0LmJpbmRBdHRyaWJMb2NhdGlvbihDLDAsXCJhX3Bvc1wiKSx0LmJpbmRBdHRyaWJMb2NhdGlvbihDLDEsXCJhX3V2XCIpLHQuYmluZEF0dHJpYkxvY2F0aW9uKEMsMixcImFfY29sb3JcIiksdC5saW5rUHJvZ3JhbShDKSwoYj10LmdldFByb2dyYW1JbmZvTG9nKEMpKSYmYiE9PWBcbmApdGhyb3cgbmV3IEVycm9yKGIpO3JldHVybntiaW5kKCl7dC51c2VQcm9ncmFtKEMpfSx1bmJpbmQoKXt0LnVzZVByb2dyYW0obnVsbCl9LGJpbmRBdHRyaWJzKCl7dC52ZXJ0ZXhBdHRyaWJQb2ludGVyKDAsMyx0LkZMT0FULCExLERlKjQsMCksdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoMSwyLHQuRkxPQVQsITEsRGUqNCwxMiksdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgxKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoMiw0LHQuRkxPQVQsITEsRGUqNCwyMCksdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgyKX0sc2VuZChQKXt0aGlzLmJpbmQoKTtmb3IobGV0IFggaW4gUCl7bGV0IEY9UFtYXSxaPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKEMsWCk7dHlwZW9mIEY9PVwibnVtYmVyXCI/dC51bmlmb3JtMWYoWixGKTpvdChGKT90LnVuaWZvcm1NYXRyaXg0ZnYoWiwhMSxuZXcgRmxvYXQzMkFycmF5KEYubSkpOmJlKEYpP3QudW5pZm9ybTRmKFosRi5yLEYuZyxGLmIsRi5hKTpzdChGKT90LnVuaWZvcm0zZihaLEYueCxGLnksRi56KTp3ZShGKSYmdC51bmlmb3JtMmYoWixGLngsRi55KX10aGlzLnVuYmluZCgpfX19cihBLFwibWFrZVByb2dyYW1cIik7ZnVuY3Rpb24gUihoLHgsYixMKXtsZXQgej1oLndpZHRoL3gsVj1oLmhlaWdodC9iLEs9MS96LEM9MS9WLFA9e30sWD1MLnNwbGl0KFwiXCIpLmVudHJpZXMoKTtmb3IobGV0W0YsWl1vZiBYKVBbWl09ZihGJXoqSyxNYXRoLmZsb29yKEYveikqQyk7cmV0dXJue3RleDpoLG1hcDpQLHF3OksscWg6Q319cihSLFwibWFrZUZvbnRcIik7ZnVuY3Rpb24gJChoLHgsYj1pLmRlZlRleCxMPWkuZGVmUHJvZyx6PXt9KXtiPWIhPW51bGw/YjppLmRlZlRleCxMPUwhPW51bGw/TDppLmRlZlByb2csKGIhPT1pLmN1clRleHx8TCE9PWkuY3VyUHJvZ3x8IVhlKGkuY3VyVW5pZm9ybSx6KXx8aS52cXVldWUubGVuZ3RoK2gubGVuZ3RoKkRlPk9lfHxpLmlxdWV1ZS5sZW5ndGgreC5sZW5ndGg+T2UpJiZrKCksaS5jdXJUZXg9YixpLmN1clByb2c9TCxpLmN1clVuaWZvcm09ejtsZXQgVj14Lm1hcChDPT5DK2kudnF1ZXVlLmxlbmd0aC9EZSksSz1oLm1hcChDPT57bGV0IFA9dyhpLnRyYW5zZm9ybS5tdWx0VmVjMihDLnBvcy54eSgpKSk7cmV0dXJuW1AueCxQLnksQy5wb3MueixDLnV2LngsQy51di55LEMuY29sb3IucixDLmNvbG9yLmcsQy5jb2xvci5iLEMuY29sb3IuYV19KS5mbGF0KCk7Vi5mb3JFYWNoKEM9PmkuaXF1ZXVlLnB1c2goQykpLEsuZm9yRWFjaChDPT5pLnZxdWV1ZS5wdXNoKEMpKX1yKCQsXCJkcmF3UmF3XCIpO2Z1bmN0aW9uIGsoKXshaS5jdXJUZXh8fCFpLmN1clByb2d8fGkudnF1ZXVlLmxlbmd0aD09PTB8fGkuaXF1ZXVlLmxlbmd0aD09PTB8fChpLmN1clByb2cuc2VuZChpLmN1clVuaWZvcm0pLHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixpLnZidWYpLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLG5ldyBGbG9hdDMyQXJyYXkoaS52cXVldWUpKSx0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpLmlidWYpLHQuYnVmZmVyU3ViRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsbmV3IFVpbnQxNkFycmF5KGkuaXF1ZXVlKSksaS5jdXJQcm9nLmJpbmQoKSxpLmN1clByb2cuYmluZEF0dHJpYnMoKSxpLmN1clRleC5iaW5kKCksdC5kcmF3RWxlbWVudHModC5UUklBTkdMRVMsaS5pcXVldWUubGVuZ3RoLHQuVU5TSUdORURfU0hPUlQsMCksaS5jdXJUZXgudW5iaW5kKCksaS5jdXJQcm9nLnVuYmluZCgpLHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixudWxsKSx0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixudWxsKSxpLmlxdWV1ZT1bXSxpLnZxdWV1ZT1bXSxpLmRyYXdDYWxscysrKX1yKGssXCJmbHVzaFwiKTtmdW5jdGlvbiBJKCl7dC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLGUuY2xlYXJDb2xvcnx8cSh7d2lkdGg6ZmUoKSxoZWlnaHQ6bGUoKSxxdWFkOm9lKDAsMCxmZSgpKnBlKCkvbHQsbGUoKSpwZSgpL2x0KSx0ZXg6aS5iZ1RleH0pLGkuZHJhd0NhbGxzPTAsaS50cmFuc2Zvcm1TdGFjaz1bXSxpLnRyYW5zZm9ybT1lZSgpfXIoSSxcImZyYW1lU3RhcnRcIik7ZnVuY3Rpb24gaigpe2soKSxpLmxhc3REcmF3Q2FsbHM9aS5kcmF3Q2FsbHN9cihqLFwiZnJhbWVFbmRcIik7ZnVuY3Rpb24gVCgpe3JldHVybiBpLmxhc3REcmF3Q2FsbHN9cihULFwiZHJhd0NhbGxzXCIpO2Z1bmN0aW9uIHcoaCl7cmV0dXJuIGYoaC54L2ZlKCkqMi0xLC1oLnkvbGUoKSoyKzEpfXIodyxcInRvTkRDXCIpO2Z1bmN0aW9uIFMoaCl7aS50cmFuc2Zvcm09aC5jbG9uZSgpfXIoUyxcInB1c2hNYXRyaXhcIik7ZnVuY3Rpb24gVShoKXshaHx8aC54PT09MCYmaC55PT09MHx8KGkudHJhbnNmb3JtPWkudHJhbnNmb3JtLnRyYW5zbGF0ZShoKSl9cihVLFwicHVzaFRyYW5zbGF0ZVwiKTtmdW5jdGlvbiBCKGgpeyFofHxoLng9PT0xJiZoLnk9PT0xfHwoaS50cmFuc2Zvcm09aS50cmFuc2Zvcm0uc2NhbGUoaCkpfXIoQixcInB1c2hTY2FsZVwiKTtmdW5jdGlvbiBfKGgpeyFofHwoaS50cmFuc2Zvcm09aS50cmFuc2Zvcm0ucm90YXRlWChoKSl9cihfLFwicHVzaFJvdGF0ZVhcIik7ZnVuY3Rpb24gRyhoKXshaHx8KGkudHJhbnNmb3JtPWkudHJhbnNmb3JtLnJvdGF0ZVkoaCkpfXIoRyxcInB1c2hSb3RhdGVZXCIpO2Z1bmN0aW9uIHkoaCl7IWh8fChpLnRyYW5zZm9ybT1pLnRyYW5zZm9ybS5yb3RhdGVaKGgpKX1yKHksXCJwdXNoUm90YXRlWlwiKTtmdW5jdGlvbiBIKCl7aS50cmFuc2Zvcm1TdGFjay5wdXNoKGkudHJhbnNmb3JtLmNsb25lKCkpfXIoSCxcInB1c2hUcmFuc2Zvcm1cIik7ZnVuY3Rpb24gTSgpe2kudHJhbnNmb3JtU3RhY2subGVuZ3RoPjAmJihpLnRyYW5zZm9ybT1pLnRyYW5zZm9ybVN0YWNrLnBvcCgpKX1yKE0sXCJwb3BUcmFuc2Zvcm1cIik7ZnVuY3Rpb24gcShoPXt9KXt2YXIgWixyZTtsZXQgeD1oLndpZHRofHwwLGI9aC5oZWlnaHR8fDAsTD1oLnBvc3x8ZigwLDApLFY9UGUoaC5vcmlnaW58fFllKS5kb3QoZih4LGIpLnNjYWxlKC0uNSkpLEs9ZigoWj1oLnNjYWxlKSE9bnVsbD9aOjEpLEM9aC5yb3R8fDAsUD1oLnF1YWR8fG9lKDAsMCwxLDEpLFg9MS0oKHJlPWgueikhPW51bGw/cmU6MCksRj1oLmNvbG9yfHxZKDEsMSwxLDEpO0goKSxVKEwpLEIoSykseShDKSxVKFYpLCQoW3twb3M6dmUoLXgvMixiLzIsWCksdXY6ZihQLngsUC55K1AuaCksY29sb3I6Rn0se3Bvczp2ZSgteC8yLC1iLzIsWCksdXY6ZihQLngsUC55KSxjb2xvcjpGfSx7cG9zOnZlKHgvMiwtYi8yLFgpLHV2OmYoUC54K1AudyxQLnkpLGNvbG9yOkZ9LHtwb3M6dmUoeC8yLGIvMixYKSx1djpmKFAueCtQLncsUC55K1AuaCksY29sb3I6Rn1dLFswLDEsMywxLDIsM10saC50ZXgsaC5wcm9nLGgudW5pZm9ybSksTSgpfXIocSxcImRyYXdRdWFkXCIpO2Z1bmN0aW9uIEooaCx4PXt9KXt2YXIgVjtsZXQgYj0oVj14LnF1YWQpIT1udWxsP1Y6b2UoMCwwLDEsMSksTD1oLndpZHRoKmIudyx6PWguaGVpZ2h0KmIuaDtxKHhlKG1lKHt9LHgpLHt0ZXg6aCxxdWFkOmIsd2lkdGg6TCxoZWlnaHQ6en0pKX1yKEosXCJkcmF3VGV4dHVyZVwiKTtmdW5jdGlvbiBFKGgseCxiLEw9e30pe3EoeGUobWUoe30sTCkse3BvczpoLHdpZHRoOngsaGVpZ2h0OmJ9KSl9cihFLFwiZHJhd1JlY3RcIik7ZnVuY3Rpb24gTyhoLHgsYixMPXt9KXtsZXQgej1QZShMLm9yaWdpbnx8WWUpLmRvdChmKHgsYikpLnNjYWxlKC41KSxWPWguYWRkKGYoLXgvMiwtYi8yKSkuc3ViKHopLEs9aC5hZGQoZigteC8yLGIvMikpLnN1Yih6KSxDPWguYWRkKGYoeC8yLGIvMikpLnN1Yih6KSxQPWguYWRkKGYoeC8yLC1iLzIpKS5zdWIoeik7dGUoVixLLEwpLHRlKEssQyxMKSx0ZShDLFAsTCksdGUoUCxWLEwpfXIoTyxcImRyYXdSZWN0U3Ryb2tlXCIpO2Z1bmN0aW9uIHRlKGgseCxiPXt9KXtsZXQgTD1iLndpZHRofHwxLHo9aC5kaXN0KHgpLFY9TWF0aC5QSS8yLWguYW5nbGUoeCk7cSh4ZShtZSh7fSxiKSx7cG9zOmguYWRkKHgpLnNjYWxlKC41KSx3aWR0aDpMLGhlaWdodDp6LHJvdDpWLG9yaWdpbjpcImNlbnRlclwifSkpfXIodGUsXCJkcmF3TGluZVwiKTtmdW5jdGlvbiBuZShoLHgsYj17fSl7bGV0IEw9KGgrXCJcIikuc3BsaXQoXCJcIiksej14LnF3KngudGV4LndpZHRoLFY9eC5xaCp4LnRleC5oZWlnaHQsSz1iLnNpemV8fFYsQz1mKEsvVikuZG90KGYoYi5zY2FsZXx8MSkpLFA9Qy54KnosWD1DLnkqVixGPTAsWj1YLHJlPTAseWU9W1tdXTtmb3IobGV0IGllIG9mIEwpKGllPT09YFxuYHx8KGIud2lkdGg/RitQPmIud2lkdGg6ITEpKSYmKForPVgsRj0wLHllLnB1c2goW10pKSxpZSE9PWBcbmAmJih5ZVt5ZS5sZW5ndGgtMV0ucHVzaChpZSksRis9UCkscmU9TWF0aC5tYXgocmUsRik7Yi53aWR0aCYmKHJlPWIud2lkdGgpO2xldCBJZT1bXSxMZT1mKGIucG9zfHwwKSxzZT1QZShiLm9yaWdpbnx8WWUpLnNjYWxlKC41KSxoZT0tc2UueCpQLShzZS54Ky41KSoocmUtUCksU2U9LXNlLnkqWC0oc2UueSsuNSkqKFotWCk7cmV0dXJuIHllLmZvckVhY2goKGllLFZlKT0+e2xldCBGZT0ocmUtaWUubGVuZ3RoKlApKihzZS54Ky41KTtpZS5mb3JFYWNoKChFZSxOZSk9PntsZXQgQ2U9eC5tYXBbRWVdLFVlPU5lKlAsR2U9VmUqWDtDZSYmSWUucHVzaCh7dGV4OngudGV4LHF1YWQ6b2UoQ2UueCxDZS55LHgucXcseC5xaCksY2g6RWUscG9zOmYoTGUueCtVZStoZStGZSxMZS55K0dlK1NlKSxjb2xvcjpiLmNvbG9yLG9yaWdpbjpiLm9yaWdpbixzY2FsZTpDLHo6Yi56fSl9KX0pLHt3aWR0aDpyZSxoZWlnaHQ6WixjaGFyczpJZX19cihuZSxcImZtdFRleHRcIik7ZnVuY3Rpb24gdWUoaCx4LGI9e30pe2NlKG5lKGgseCxiKSl9cih1ZSxcImRyYXdUZXh0XCIpO2Z1bmN0aW9uIGNlKGgpe2ZvcihsZXQgeCBvZiBoLmNoYXJzKXEoe3RleDp4LnRleCx3aWR0aDp4LnRleC53aWR0aCp4LnF1YWQudyxoZWlnaHQ6eC50ZXguaGVpZ2h0KngucXVhZC5oLHBvczp4LnBvcyxzY2FsZTp4LnNjYWxlLGNvbG9yOnguY29sb3IscXVhZDp4LnF1YWQsb3JpZ2luOlwiY2VudGVyXCIsejp4Lnp9KX1yKGNlLFwiZHJhd0ZtdFRleHRcIik7ZnVuY3Rpb24gZmUoKXtyZXR1cm4gdC5kcmF3aW5nQnVmZmVyV2lkdGgvcGUoKX1yKGZlLFwid2lkdGhcIik7ZnVuY3Rpb24gbGUoKXtyZXR1cm4gdC5kcmF3aW5nQnVmZmVySGVpZ2h0L3BlKCl9cihsZSxcImhlaWdodFwiKTtmdW5jdGlvbiBwZSgpe3ZhciBoO3JldHVybihoPWUuc2NhbGUpIT1udWxsP2g6MX1yKHBlLFwic2NhbGVcIik7ZnVuY3Rpb24gVGUoKXtyZXR1cm4gaS5jbGVhckNvbG9yLmNsb25lKCl9cmV0dXJuIHIoVGUsXCJjbGVhckNvbG9yXCIpLHt3aWR0aDpmZSxoZWlnaHQ6bGUsc2NhbGU6cGUsbWFrZVRleDp2LG1ha2VQcm9ncmFtOkEsbWFrZUZvbnQ6UixkcmF3VGV4dHVyZTpKLGRyYXdUZXh0OnVlLGRyYXdGbXRUZXh0OmNlLGRyYXdSZWN0OkUsZHJhd1JlY3RTdHJva2U6TyxkcmF3TGluZTp0ZSxmbXRUZXh0Om5lLGZyYW1lU3RhcnQ6SSxmcmFtZUVuZDpqLHB1c2hUcmFuc2Zvcm06SCxwb3BUcmFuc2Zvcm06TSxwdXNoTWF0cml4OlMsZHJhd0NhbGxzOlQsY2xlYXJDb2xvcjpUZX19cihwdCxcImdmeEluaXRcIik7ZnVuY3Rpb24gYnQodCl7cmV0dXJuIHQ9PT1cInByZXNzZWRcInx8dD09PVwicnByZXNzZWRcIj9cImRvd25cIjp0PT09XCJyZWxlYXNlZFwiP1widXBcIjp0fXIoYnQsXCJwcm9jZXNzQnRuU3RhdGVcIik7ZnVuY3Rpb24geXQodD17fSl7dmFyIHEsSjtsZXQgZT17Y2FudmFzOihxPXQuY2FudmFzKSE9bnVsbD9xOigoKT0+e3ZhciBPO2xldCBFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuKChPPXQucm9vdCkhPW51bGw/Tzpkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChFKSxFfSkoKSxrZXlTdGF0ZXM6e30sY2hhcklucHV0dGVkOltdLG1vdXNlU3RhdGU6XCJ1cFwiLG1vdXNlUG9zOmYoMCwwKSx0aW1lOjAscmVhbFRpbWU6MCxza2lwVGltZTohMSxkdDowLHNjYWxlOihKPXQuc2NhbGUpIT1udWxsP0o6MSxpc1RvdWNoOiExLGxvb3BJRDpudWxsLHN0b3BwZWQ6ITEsZnBzOjAsZnBzQnVmOltdLGZwc1RpbWVyOjB9LG89e0Fycm93TGVmdDpcImxlZnRcIixBcnJvd1JpZ2h0OlwicmlnaHRcIixBcnJvd1VwOlwidXBcIixBcnJvd0Rvd246XCJkb3duXCIsXCIgXCI6XCJzcGFjZVwifSxpPVtcInNwYWNlXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidXBcIixcImRvd25cIixcInRhYlwiLFwiZjFcIixcImYyXCIsXCJmM1wiLFwiZjRcIixcImY1XCIsXCJmNlwiLFwiZjdcIixcImY4XCIsXCJmOVwiLFwiZjEwXCIsXCJmMTFcIl07dC5mdWxsc2NyZWVuPyhlLmNhbnZhcy53aWR0aD13aW5kb3cuaW5uZXJXaWR0aCxlLmNhbnZhcy5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0KTooZS5jYW52YXMud2lkdGg9KHQud2lkdGh8fDY0MCkqZS5zY2FsZSxlLmNhbnZhcy5oZWlnaHQ9KHQuaGVpZ2h0fHw0ODApKmUuc2NhbGUpO2xldCBtPVtcIm91dGxpbmU6IG5vbmVcIixcImN1cnNvcjogZGVmYXVsdFwiXTt0LmNyaXNwJiYobS5wdXNoKFwiaW1hZ2UtcmVuZGVyaW5nOiBwaXhlbGF0ZWRcIiksbS5wdXNoKFwiaW1hZ2UtcmVuZGVyaW5nOiBjcmlzcC1lZGdlc1wiKSksZS5jYW52YXMuc3R5bGU9bS5qb2luKFwiO1wiKSxlLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKTtsZXQgdj1lLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix7YW50aWFsaWFzOiEwLGRlcHRoOiEwLHN0ZW5jaWw6ITAsYWxwaGE6ITAscHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwfSk7ZS5pc1RvdWNoPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wfHxuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cz4wLGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixFPT57ZS5tb3VzZVBvcz1mKEUub2Zmc2V0WCxFLm9mZnNldFkpLnNjYWxlKDEvZS5zY2FsZSl9KSxlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsKCk9PntlLm1vdXNlU3RhdGU9XCJwcmVzc2VkXCJ9KSxlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCgpPT57ZS5tb3VzZVN0YXRlPVwicmVsZWFzZWRcIn0pLGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsRT0+e2xldCBPPUUudG91Y2hlc1swXTtlLm1vdXNlUG9zPWYoTy5jbGllbnRYLE8uY2xpZW50WSkuc2NhbGUoMS9lLnNjYWxlKSxlLm1vdXNlU3RhdGU9XCJwcmVzc2VkXCJ9KSxlLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsRT0+e2xldCBPPUUudG91Y2hlc1swXTtlLm1vdXNlUG9zPWYoTy5jbGllbnRYLE8uY2xpZW50WSkuc2NhbGUoMS9lLnNjYWxlKX0pLGUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsRT0+e2xldCBPPW9bRS5rZXldfHxFLmtleS50b0xvd2VyQ2FzZSgpO2kuaW5jbHVkZXMoTykmJkUucHJldmVudERlZmF1bHQoKSxPLmxlbmd0aD09PTEmJmUuY2hhcklucHV0dGVkLnB1c2goTyksTz09PVwic3BhY2VcIiYmZS5jaGFySW5wdXR0ZWQucHVzaChcIiBcIiksRS5yZXBlYXQ/ZS5rZXlTdGF0ZXNbT109XCJycHJlc3NlZFwiOmUua2V5U3RhdGVzW09dPVwicHJlc3NlZFwifSksZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsRT0+e2xldCBPPW9bRS5rZXldfHxFLmtleS50b0xvd2VyQ2FzZSgpO2Uua2V5U3RhdGVzW09dPVwicmVsZWFzZWRcIn0pLGUuY2FudmFzLmZvY3VzKCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwoKT0+e3N3aXRjaChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpe2Nhc2VcInZpc2libGVcIjplLnNraXBUaW1lPSEwO2JyZWFrO2Nhc2VcImhpZGRlblwiOmJyZWFrfX0pO2Z1bmN0aW9uIEEoKXtyZXR1cm4gZS5tb3VzZVBvcy5jbG9uZSgpfXIoQSxcIm1vdXNlUG9zXCIpO2Z1bmN0aW9uIFIoKXtyZXR1cm4gZS5tb3VzZVN0YXRlPT09XCJwcmVzc2VkXCJ9cihSLFwibW91c2VDbGlja2VkXCIpO2Z1bmN0aW9uICQoKXtyZXR1cm4gZS5tb3VzZVN0YXRlPT09XCJwcmVzc2VkXCJ8fGUubW91c2VTdGF0ZT09PVwiZG93blwifXIoJCxcIm1vdXNlRG93blwiKTtmdW5jdGlvbiBrKCl7cmV0dXJuIGUubW91c2VTdGF0ZT09PVwicmVsZWFzZWRcIn1yKGssXCJtb3VzZVJlbGVhc2VkXCIpO2Z1bmN0aW9uIEkoRSl7cmV0dXJuIGUua2V5U3RhdGVzW0VdPT09XCJwcmVzc2VkXCJ9cihJLFwia2V5UHJlc3NlZFwiKTtmdW5jdGlvbiBqKEUpe3JldHVybiBlLmtleVN0YXRlc1tFXT09PVwicHJlc3NlZFwifHxlLmtleVN0YXRlc1tFXT09PVwicnByZXNzZWRcIn1yKGosXCJrZXlQcmVzc2VkUmVwXCIpO2Z1bmN0aW9uIFQoRSl7cmV0dXJuIGUua2V5U3RhdGVzW0VdPT09XCJwcmVzc2VkXCJ8fGUua2V5U3RhdGVzW0VdPT09XCJycHJlc3NlZFwifHxlLmtleVN0YXRlc1tFXT09PVwiZG93blwifXIoVCxcImtleURvd25cIik7ZnVuY3Rpb24gdyhFKXtyZXR1cm4gZS5rZXlTdGF0ZXNbRV09PT1cInJlbGVhc2VkXCJ9cih3LFwia2V5UmVsZWFzZWRcIik7ZnVuY3Rpb24gUygpe3JldHVyblsuLi5lLmNoYXJJbnB1dHRlZF19cihTLFwiY2hhcklucHV0dGVkXCIpO2Z1bmN0aW9uIFUoKXtyZXR1cm4gZS5kdH1yKFUsXCJkdFwiKTtmdW5jdGlvbiBCKCl7cmV0dXJuIGUudGltZX1yKEIsXCJ0aW1lXCIpO2Z1bmN0aW9uIF8oKXtyZXR1cm4gZS5mcHN9cihfLFwiZnBzXCIpO2Z1bmN0aW9uIEcoKXtyZXR1cm4gZS5jYW52YXMudG9EYXRhVVJMKCl9cihHLFwic2NyZWVuc2hvdFwiKTtmdW5jdGlvbiB5KEUpe3JldHVybiBFJiYoZS5jYW52YXMuc3R5bGUuY3Vyc29yPUUhPW51bGw/RTpcImRlZmF1bHRcIiksZS5jYW52YXMuc3R5bGUuY3Vyc29yfXIoeSxcImN1cnNvclwiKTtmdW5jdGlvbiBIKEUpe2xldCBPPXIodGU9PntsZXQgbmU9dGUvMWUzLHVlPW5lLWUucmVhbFRpbWU7ZS5yZWFsVGltZT1uZSxlLnNraXBUaW1lfHwoZS5kdD11ZSxlLnRpbWUrPWUuZHQsZS5mcHNCdWYucHVzaCgxL2UuZHQpLGUuZnBzVGltZXIrPWUuZHQsZS5mcHNUaW1lcj49MSYmKGUuZnBzVGltZXI9MCxlLmZwcz1NYXRoLnJvdW5kKGUuZnBzQnVmLnJlZHVjZSgoY2UsZmUpPT5jZStmZSkvZS5mcHNCdWYubGVuZ3RoKSxlLmZwc0J1Zj1bXSkpLGUuc2tpcFRpbWU9ITEsRSgpO2ZvcihsZXQgY2UgaW4gZS5rZXlTdGF0ZXMpZS5rZXlTdGF0ZXNbY2VdPWJ0KGUua2V5U3RhdGVzW2NlXSk7ZS5tb3VzZVN0YXRlPWJ0KGUubW91c2VTdGF0ZSksZS5jaGFySW5wdXR0ZWQ9W10sZS5zdG9wcGVkfHwoZS5sb29wSUQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKE8pKX0sXCJmcmFtZVwiKTtlLmxvb3BJRD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoTyl9cihILFwicnVuXCIpO2Z1bmN0aW9uIE0oKXtjYW5jZWxBbmltYXRpb25GcmFtZShlLmxvb3BJRCksZS5zdG9wcGVkPSEwfXJldHVybiByKE0sXCJxdWl0XCIpLHtnbDp2LG1vdXNlUG9zOkEsa2V5RG93bjpULGtleVByZXNzZWQ6SSxrZXlQcmVzc2VkUmVwOmosa2V5UmVsZWFzZWQ6dyxtb3VzZURvd246JCxtb3VzZUNsaWNrZWQ6Uixtb3VzZVJlbGVhc2VkOmssY2hhcklucHV0dGVkOlMsY3Vyc29yOnksZHQ6VSx0aW1lOkIsZnBzOl8sc2NyZWVuc2hvdDpHLHJ1bjpILHF1aXQ6TX19cih5dCxcImFwcEluaXRcIik7dmFyIHh0PTAsZ3Q9MyxXdD0wLEt0PTMsWnQ9LTEyMDAsUXQ9MTIwMDtmdW5jdGlvbiB3dCgpe2xldCB0PSgoKT0+e2xldCBtPW5ldyh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSx2PW0uY3JlYXRlR2FpbigpLEE9djtyZXR1cm4gQS5jb25uZWN0KG0uZGVzdGluYXRpb24pLHtjdHg6bSxnYWluTm9kZTp2LG1hc3Rlck5vZGU6QX19KSgpO2Z1bmN0aW9uIGUobSl7cmV0dXJuIG0hPT12b2lkIDAmJih0LmdhaW5Ob2RlLmdhaW4udmFsdWU9YWUobSx4dCxndCkpLHQuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZX1yKGUsXCJ2b2x1bWVcIik7ZnVuY3Rpb24gbyhtLHY9e2xvb3A6ITEsdm9sdW1lOjEsc3BlZWQ6MSxkZXR1bmU6MCxzZWVrOjB9KXt2YXIgdztsZXQgQT0hMSxSPXQuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1IuYnVmZmVyPW0sUi5sb29wPSEhdi5sb29wO2xldCAkPXQuY3R4LmNyZWF0ZUdhaW4oKTtSLmNvbm5lY3QoJCksJC5jb25uZWN0KHQubWFzdGVyTm9kZSk7bGV0IGs9KHc9di5zZWVrKSE9bnVsbD93OjA7Ui5zdGFydCgwLGspO2xldCBJPXQuY3R4LmN1cnJlbnRUaW1lLWssaj1udWxsLFQ9e3N0b3AoKXtBfHwodGhpcy5wYXVzZSgpLEk9dC5jdHguY3VycmVudFRpbWUpfSxwbGF5KFMpe2lmKCFBKXJldHVybjtsZXQgVT1SO1I9dC5jdHguY3JlYXRlQnVmZmVyU291cmNlKCksUi5idWZmZXI9VS5idWZmZXIsUi5sb29wPVUubG9vcCxSLnBsYXliYWNrUmF0ZS52YWx1ZT1VLnBsYXliYWNrUmF0ZS52YWx1ZSxSLmRldHVuZSYmKFIuZGV0dW5lLnZhbHVlPVUuZGV0dW5lLnZhbHVlKSxSLmNvbm5lY3QoJCk7bGV0IEI9UyE9bnVsbD9TOnRoaXMudGltZSgpO1Iuc3RhcnQoMCxCKSxJPXQuY3R4LmN1cnJlbnRUaW1lLUIsQT0hMSxqPW51bGx9LHBhdXNlKCl7QXx8KFIuc3RvcCgpLEE9ITAsaj10LmN0eC5jdXJyZW50VGltZSl9LHBhdXNlZCgpe3JldHVybiBBfSxzdG9wcGVkKCl7cmV0dXJuIEF9LHNwZWVkKFMpe3JldHVybiBTIT09dm9pZCAwJiYoUi5wbGF5YmFja1JhdGUudmFsdWU9YWUoUyxXdCxLdCkpLFIucGxheWJhY2tSYXRlLnZhbHVlfSxkZXR1bmUoUyl7cmV0dXJuIFIuZGV0dW5lPyhTIT09dm9pZCAwJiYoUi5kZXR1bmUudmFsdWU9YWUoUyxadCxRdCkpLFIuZGV0dW5lLnZhbHVlKTowfSx2b2x1bWUoUyl7cmV0dXJuIFMhPT12b2lkIDAmJigkLmdhaW4udmFsdWU9YWUoUyx4dCxndCkpLCQuZ2Fpbi52YWx1ZX0sbG9vcCgpe1IubG9vcD0hMH0sdW5sb29wKCl7Ui5sb29wPSExfSxkdXJhdGlvbigpe3JldHVybiBtLmR1cmF0aW9ufSx0aW1lKCl7cmV0dXJuIEE/ai1JOnQuY3R4LmN1cnJlbnRUaW1lLUl9fTtyZXR1cm4gVC5zcGVlZCh2LnNwZWVkKSxULmRldHVuZSh2LmRldHVuZSksVC52b2x1bWUodi52b2x1bWUpLFR9cihvLFwicGxheVwiKTtmdW5jdGlvbiBpKCl7cmV0dXJuIHQuY3R4fXJldHVybiByKGksXCJjdHhcIikse2N0eDppLHZvbHVtZTplLHBsYXk6b319cih3dCxcImF1ZGlvSW5pdFwiKTt2YXIgdnQ9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQXZnQUFBQUlDQVlBQUFDTUw0dlRBQUFBQVhOU1IwSUFyczRjNlFBQUJvMUpSRUZVZUp6ZFc5dU81U2dNSkt2OS8xL09QblFuRGFiS1ZRYjZ6R2d0amVZa3ZtSnNZd2g5dFFMYzkzMS8vN3l1NjNyZXRkYmErLzRoVFo2WkRNUTN3SFZkUGUxa1hrLzYwSGUyRC9KN0hMTWhHeU93SFFLamkvby9CWW12NDBEZWNScStjZmdyOGw4ZGhCZlJMUEYzdjZGOUN1L09id0ZQWXhSQkZwdEU3bUEvd1EyeVdNd0kvMXIreTNCcS9oNEgzVHdKM2ZsMTZ4Y3o0VWZRUEIrb3BsRjlRSjdpZCtTak1Wanovd2Y1ZTVySytoS2ZCOSthODZQc1pUSW0rN1A2OTQyanVmc3FTdmc3L0VORDVXU2c2b2pMdDd1dXJjakw2djhwZlE0ZG9pbklMOXYrZjRIVE1mUTNnb3BSNWdPUSs2anZpUGo3RWZMdnFRR3NRRmlYYi9CN0tNQkdjL3JRM3gxT051SG1CbU9RZmQ5M1h3RFZndVBJLzNVdy9mYzhEejVzNC94TW9nVS94U2NOS0lMSmI0VzVRL1l5WHR0K0lXY3lGK0d6TWFqWTdlaFpiQ0s1dmYyc0djem1KK0o2TzZKOHBUOGRCNUhQd1BVNzA2L2tuc2pmVlJseHZoamUwWm41SCtGL20vK2tmNnVBMW94cVBWRDFKZXFqK2tIdVJyNXgwWnp6VThuSkFOckNhbERTNUE1NHhWOVlueWQrcC82Yk5YU2lCZlk1RGsxcGtQeU9iekkwczEwY2VGciszK0ZYc01xL3FrK0JNOTdUdXNVNmJJdnArRmxmMXVmdXkvT0pCaDgxN3MvdmxjS09hT0hnUkJPZXl1MG5wcHQ0dUlFQStnY2JvTEx2OTZvSXUxOElGTGhmU1Jvb01oMTloc3ZrS3lOamtDbzZSK2ZYQzN5YS9kZEFkanJla3hIMmk4Vm1pSDIzb0dUTll5K24yaUJIeVBoWWp0V1Y4SUp0eXozOEJXNmE0MkpNS3VKdG4zMElmZ0pUK1Bka3ppYXlhUDFXK09wWDZKNkh5SithYzhNWGFKRXZOZm5HR2hlVm93MzRuZUFuL3RhZzMwYUJ5UmZJNVBEQmxaOXR6TmdoSHVKRE1uWnBHTzM3ck1hbS9ML0pqMnc2d1kvOFRIMWdQQ05mUTN6eEFKVFozd1BLa1M5RUlTOWJtM09mYkRvbm9mOVlXZ3c3Z0NKMHVxRiszOTAvSklzMVFaRSt5aGprS09jaWZNS0RkTVgza1lieEtCM3huOGZzTlpFUFBtMlNCUTdLRC9Pa2tnWFpmWVYvUFYvVS8rcm9rMElzd0RIK0hEeUNtQWN1WHMxTEhQOGdCelR5ZDQ4N2RJcmdBUFBmQzQ4OXdLNksvR3dqb3VZb282bm1aUVhVSEN0QTlSVGhkK3lYODdmSW45WDNUOEtrbDJ5QzN6bFMrTlpLOVhVQ2xydUZqVTMwOTNJY0JGdWk4VTc5WmZnNzRGbGo3ZFJISkovMUhxNTh4QXMzSkFkZ05iOVFEeEhCOWY4SmZnU1YrYzk2UWFWbkNjUmh6eDMrcitoWFk5cXRxMUhtS3krdXAzRnQzVDdCTjA2Z1dWREdaaEk1Skw0YjZNaDl5b2x1NVQ2aXVrTU43TTRLUXFXWi9TS1lQOStsWUp5QU9ZdFB2ZU15NUlQZFpqYS8vWFBWbmt3K3RCSGRQZTM1dzhrV3MzVVgrdGpOcnRnZ3ZwV3ZNM0g4TGloaTVmL2RFMWtWRDA2OFBMN08rRmMyejY1ZU5zZXVERWZIS294RnB4NGZqbTliUytMakZ5RXU0RjhQNGdyYXMxZ2VxcThReks5d2xKM0lXWUprM1R0Uzh6YnZWOE1OMnFHdmF4UU9YdDNZYWZLZTJOak44VThBMmh6R0RRcGRnMzd4cXp1ck9iQjNkT1k5dXlZRzhuRzM3cFhqcDlyZzd3UW0rdjBBMjAxR3ZHcVVkNEtmRmxlamdVb2J4Q0RqaXhBWG9kM05pV1ZmUmFhNllzVDBoaXRJV1dBcVh5citKZGhZQkRKYlNnMzJZOGZPRlp2VkRkemlCcS9jQUJQWThXRUtweGYzMWZnbk1NMnhxNjgxdTlIWWFnQU0vNm14RG1NMGVYYUJOaENFTGdLdDM2WitWZjlHWW9ETHJzZzQ5NlRaOHlGZzYyOWRFTCtEN3NEcTRGQjhiSUY3eFRheEkyWDhROWRKV2Y3WS9rczJpUFlHZjJIc1dmNUhuT292VUgybTQ4OTZROUpERHMrclY3VGR1S3MyK0VjTE5kbmh2TS9mK01xQ0VwOHRPNDM3aDlDMllFUDJuTDcvNVdSMkc3OXNnWXdHcW8xRWxKSHU0Rjltc0FrQzg0THNjeGQ0Qmc1L2Fuc0doVk9BS2Y3TUF1QnU0TkM4c2VKMW1RMGxrdS9va00wOTBNL2lTOEh1QXEvaXZ4Si9UbzFSTXJEZy9HOE9UdVZIdWI0ZTFqL3dnOXhCdUY1ZmJQSlZUbFRzZE9hUHJtZGlIVnFLM1VOL3crWG16MnIrSy9tUWY2RzVSbmF1d0R1SG04MG9Hd0NMa1pNYkhMWUIvbmtZbTlNZC95RjZORGEzU1I5c05QTS8wckQrY3BnZjh3cytxaWZPR04zNVhLMmJIem5CajN4V0VLSFR5K1FUNUhZaUdKODNrVzNsUDVaSTRNVG1LVTFhOXJjRmJOeUZUNzZPelZDK29sUDJ0UVlMRUpOZkdtTzJpVnM0QVUvbmQvUHplanJIaU01OHovQld2am56cytKN1FFdnh6bGNRZ0Z1cEp4WGZWdVNqdUZQMTFORnA0Ykk3NklWbnBaL2E3Y3hmUmtOaUl4dEw5bjQxZjF5YXlocm5nbXJHNUx3WWRXa3AveDM1aDlZZzFXQzZ2bFlOdVN0dktlWlcraDl6ZlIvZUlib0h4RDEyQm1sODdQWWdpQ1paUDVaODFmSTVscm01azBmeGZXVmoreDlsU2dqcDdZT09vQUFBQUFCSlJVNUVya0pnZ2c9PVwiO3ZhciBlbj1cIiAhXFxcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+XCIsUmU9XCJ1bnNjaWlcIjtmdW5jdGlvbiBSdCh0KXtsZXQgZT1uZXcgSW1hZ2U7cmV0dXJuIGUuc3JjPXQsZS5jcm9zc09yaWdpbj1cImFub255bW91c1wiLG5ldyBQcm9taXNlKChvLGkpPT57ZS5vbmxvYWQ9KCk9PntvKGUpfSxlLm9uZXJyb3I9KCk9PntpKGBmYWlsZWQgdG8gbG9hZCAke3R9YCl9fSl9cihSdCxcImxvYWRJbWdcIik7ZnVuY3Rpb24gVHQodCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcImRhdGE6XCIpfXIoVHQsXCJpc0RhdGFVcmxcIik7ZnVuY3Rpb24gU3QodCxlLG89e30pe2xldCBpPXtsYXN0TG9hZGVySUQ6MCxsb2FkUm9vdDpcIlwiLGxvYWRlcnM6e30sc3ByaXRlczp7fSxzb3VuZHM6e30sZm9udHM6e30sc2hhZGVyczp7fX07ZnVuY3Rpb24gbShUKXt2YXIgUztsZXQgdz1pLmxhc3RMb2FkZXJJRDtpLmxvYWRlcnNbd109ITEsaS5sYXN0TG9hZGVySUQrKyxULmNhdGNoKChTPW8uZXJySGFuZGxlcikhPW51bGw/Uzpjb25zb2xlLmVycm9yKS5maW5hbGx5KCgpPT57aS5sb2FkZXJzW3ddPSEwfSl9cihtLFwiYWRkTG9hZGVyXCIpO2Z1bmN0aW9uIHYoKXtsZXQgVD0wLHc9MDtmb3IobGV0IFMgaW4gaS5sb2FkZXJzKVQrPTEsaS5sb2FkZXJzW1NdJiYodys9MSk7cmV0dXJuIHcvVH1yKHYsXCJsb2FkUHJvZ3Jlc3NcIik7ZnVuY3Rpb24gQShUKXtyZXR1cm4gVCYmKGkubG9hZFJvb3Q9VCksaS5sb2FkUm9vdH1yKEEsXCJsb2FkUm9vdFwiKTtmdW5jdGlvbiBSKFQsdyxTLFUsQj1lbil7bGV0IF89bmV3IFByb21pc2UoKEcseSk9PntsZXQgSD1UdCh3KT93OmkubG9hZFJvb3QrdztSdChIKS50aGVuKE09PntsZXQgcT10Lm1ha2VGb250KHQubWFrZVRleChNKSxTLFUsQik7aS5mb250c1tUXT1xLEcocSl9KS5jYXRjaCh5KX0pO3JldHVybiBtKF8pLF99cihSLFwibG9hZEZvbnRcIik7ZnVuY3Rpb24gJChULHcsUz17c2xpY2VYOjEsc2xpY2VZOjEsYW5pbXM6e319KXtmdW5jdGlvbiBVKF8sRyx5PXtzbGljZVg6MSxzbGljZVk6MSxncmlkV2lkdGg6MCxncmlkSGVpZ2h0OjAsYW5pbXM6e319KXtsZXQgSD1bXSxNPXQubWFrZVRleChHKSxxPXkuc2xpY2VYfHxNLndpZHRoLyh5LmdyaWRXaWR0aHx8TS53aWR0aCksSj15LnNsaWNlWXx8TS5oZWlnaHQvKHkuZ3JpZEhlaWdodHx8TS5oZWlnaHQpLEU9MS9xLE89MS9KO2ZvcihsZXQgbmU9MDtuZTxKO25lKyspZm9yKGxldCB1ZT0wO3VlPHE7dWUrKylILnB1c2gob2UodWUqRSxuZSpPLEUsTykpO2xldCB0ZT17dGV4Ok0sZnJhbWVzOkgsYW5pbXM6eS5hbmltc3x8e319O3JldHVybiBpLnNwcml0ZXNbX109dGUsdGV9cihVLFwibG9hZFJhd1Nwcml0ZVwiKTtsZXQgQj1uZXcgUHJvbWlzZSgoXyxHKT0+e2lmKCF3KXJldHVybiBHKGBleHBlY3RlZCBzcHJpdGUgc3JjIGZvciBcIiR7VH1cImApO2lmKHR5cGVvZiB3PT1cInN0cmluZ1wiKXtsZXQgeT1UdCh3KT93OmkubG9hZFJvb3QrdztSdCh5KS50aGVuKEg9PntfKFUoVCxILFMpKX0pLmNhdGNoKEcpfWVsc2UgXyhVKFQsdyxTKSl9KTtyZXR1cm4gbShCKSxCfXIoJCxcImxvYWRTcHJpdGVcIik7ZnVuY3Rpb24gayhULHcsUyxVPSExKXtmdW5jdGlvbiBCKEcseSxIKXtsZXQgTT10Lm1ha2VQcm9ncmFtKHksSCk7cmV0dXJuIGkuc2hhZGVyc1tHXT1NLE19cihCLFwibG9hZFJhd1NoYWRlclwiKTtsZXQgXz1uZXcgUHJvbWlzZSgoRyx5KT0+e2lmKCF3JiYhUylyZXR1cm4geShcIm5vIHNoYWRlclwiKTtmdW5jdGlvbiBIKE0pe3JldHVybiBNP2ZldGNoKGkubG9hZFJvb3QrTSkudGhlbihxPT57aWYocS5vaylyZXR1cm4gcS50ZXh0KCk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gbG9hZCAke019YCl9KS5jYXRjaCh5KTpuZXcgUHJvbWlzZShxPT5xKG51bGwpKX1pZihyKEgsXCJyZXNvbHZlVXJsXCIpLFUpUHJvbWlzZS5hbGwoW0godyksSChTKV0pLnRoZW4oKFtNLHFdKT0+e0coQihULE0scSkpfSkuY2F0Y2goeSk7ZWxzZSB0cnl7RyhCKFQsdyxTKSl9Y2F0Y2goTSl7eShNKX19KTtyZXR1cm4gbShfKSxffXIoayxcImxvYWRTaGFkZXJcIik7ZnVuY3Rpb24gSShULHcpe2xldCBTPWkubG9hZFJvb3QrdyxVPW5ldyBQcm9taXNlKChCLF8pPT57aWYoIXcpcmV0dXJuIF8oYGV4cGVjdGVkIHNvdW5kIHNyYyBmb3IgXCIke1R9XCJgKTt0eXBlb2Ygdz09XCJzdHJpbmdcIiYmZmV0Y2goUykudGhlbihHPT57aWYoRy5vaylyZXR1cm4gRy5hcnJheUJ1ZmZlcigpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGxvYWQgJHtTfWApfSkudGhlbihHPT5uZXcgUHJvbWlzZSgoeSxIKT0+e2UuY3R4KCkuZGVjb2RlQXVkaW9EYXRhKEcseSxIKX0pKS50aGVuKEc9PntpLnNvdW5kc1tUXT1HLEIoRyl9KS5jYXRjaChfKX0pO3JldHVybiBtKFUpLFV9cihJLFwibG9hZFNvdW5kXCIpO2Z1bmN0aW9uIGooKXtyZXR1cm4gaS5mb250c1tSZV19cmV0dXJuIHIoaixcImRlZkZvbnRcIiksUihSZSx2dCw4LDgpLHtsb2FkUm9vdDpBLGxvYWRTcHJpdGU6JCxsb2FkU291bmQ6SSxsb2FkRm9udDpSLGxvYWRTaGFkZXI6ayxsb2FkUHJvZ3Jlc3M6dixhZGRMb2FkZXI6bSxkZWZGb250Omosc3ByaXRlczppLnNwcml0ZXMsZm9udHM6aS5mb250cyxzb3VuZHM6aS5zb3VuZHMsc2hhZGVyczppLnNoYWRlcnN9fXIoU3QsXCJhc3NldHNJbml0XCIpO3ZhciB0bj0xNjtmdW5jdGlvbiBFdCh0LGUsbz17bWF4Ojh9KXt2YXIgaztsZXQgaT1bXSxtPShrPW8ubWF4KSE9bnVsbD9rOjg7ZnVuY3Rpb24gdigpe2kubGVuZ3RoPm0mJihpPWkuc2xpY2UoMCxtKSk7bGV0IEk9ZigwLHQuaGVpZ2h0KCkpO2kuZm9yRWFjaCgoaixUKT0+e2xldCB3PWdlKFQsMCxtLDEsLjUpLFM9Z2UoVCwwLG0sLjgsLjIpLFU9KCgpPT57c3dpdGNoKGoudHlwZSl7Y2FzZVwiaW5mb1wiOnJldHVybiBZKDEsMSwxLHcpO2Nhc2VcImVycm9yXCI6cmV0dXJuIFkoMSwwLC41LHcpfX0pKCksQj10LmZtdFRleHQoai5tc2csZS5kZWZGb250KCkse3BvczpJLG9yaWdpbjpcImJvdGxlZnRcIixjb2xvcjpVLHNpemU6dG4vdC5zY2FsZSgpLHdpZHRoOnQud2lkdGgoKX0pO3QuZHJhd1JlY3QoSSxCLndpZHRoLEIuaGVpZ2h0LHtvcmlnaW46XCJib3RsZWZ0XCIsY29sb3I6WSgwLDAsMCxTKX0pLHQuZHJhd0ZtdFRleHQoQiksSS55LT1CLmhlaWdodH0pfXIodixcImRyYXdcIik7ZnVuY3Rpb24gQShJKXtjb25zb2xlLmVycm9yKEkpLGkudW5zaGlmdCh7dHlwZTpcImVycm9yXCIsbXNnOkl9KX1yKEEsXCJlcnJvclwiKTtmdW5jdGlvbiBSKEkpe2kudW5zaGlmdCh7dHlwZTpcImluZm9cIixtc2c6SX0pfXIoUixcImluZm9cIik7ZnVuY3Rpb24gJCgpe2k9W119cmV0dXJuIHIoJCxcImNsZWFyXCIpLHtpbmZvOlIsZXJyb3I6QSxkcmF3OnYsY2xlYXI6JH19cihFdCxcImxvZ2dlckluaXRcIik7ZnVuY3Rpb24gQ3QodCl7bGV0IGU9e30sbz1bXSxpPW51bGw7ZnVuY3Rpb24gbSgpe3JldHVybiBpIT09bnVsbCYmaS5yZWFkeVN0YXRlPT09MX1yKG0sXCJjb25uZWN0ZWRcIik7ZnVuY3Rpb24gdigpe2xldCBrPW5ldyBXZWJTb2NrZXQodCk7cmV0dXJuIG5ldyBQcm9taXNlKChJLGopPT57ay5vbm9wZW49KCk9PntJKGspLGk9aztmb3IobGV0IFQgb2YgbylrLnNlbmQoVCl9LGsub25lcnJvcj0oKT0+e2ooYGZhaWxlZCB0byBjb25uZWN0IHRvICR7dH1gKX0say5vbm1lc3NhZ2U9VD0+e2xldCB3PUpTT04ucGFyc2UoVC5kYXRhKTtpZihlW3cudHlwZV0pZm9yKGxldCBTIG9mIGVbdy50eXBlXSlTKHcuZGF0YSx3LmlkKX19KX1yKHYsXCJjb25uZWN0XCIpO2Z1bmN0aW9uIEEoayxJKXtlW2tdfHwoZVtrXT1bXSksZVtrXS5wdXNoKEkpfXIoQSxcInJlY3ZcIik7ZnVuY3Rpb24gUihrLEkpe2xldCBqPUpTT04uc3RyaW5naWZ5KHt0eXBlOmssZGF0YTpJfSk7aT9pLnNlbmQoaik6by5wdXNoKGopfXIoUixcInNlbmRcIik7ZnVuY3Rpb24gJCgpe2kmJmkuY2xvc2UoKX1yZXR1cm4gcigkLFwiY2xvc2VcIikse2Nvbm5lY3Q6dixjbG9zZTokLGNvbm5lY3RlZDptLHJlY3Y6QSxzZW5kOlJ9fXIoQ3QsXCJuZXRJbml0XCIpO21vZHVsZS5leHBvcnRzPSh0PXt3aWR0aDo2NDAsaGVpZ2h0OjQ4MCxzY2FsZToxLGZ1bGxzY3JlZW46ITEsZGVidWc6ITEsY3Jpc3A6ITEsY2FudmFzOm51bGwsY29ubmVjdDpudWxsLGxvZ01heDo4LHJvb3Q6ZG9jdW1lbnQuYm9keX0pPT57bGV0IGU9eXQoe3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHNjYWxlOnQuc2NhbGUsZnVsbHNjcmVlbjp0LmZ1bGxzY3JlZW4sY3Jpc3A6dC5jcmlzcCxjYW52YXM6dC5jYW52YXMscm9vdDp0LnJvb3R9KSxvPXB0KGUuZ2wse2NsZWFyQ29sb3I6dC5jbGVhckNvbG9yP1kodC5jbGVhckNvbG9yKTp2b2lkIDAsc2NhbGU6dC5zY2FsZSx0ZXhGaWx0ZXI6dC50ZXhGaWx0ZXJ9KSxpPXd0KCksbT1TdChvLGkse2VyckhhbmRsZXI6cz0+e3YuZXJyb3Iocyl9fSksdj1FdChvLG0se21heDp0LmxvZ01heH0pLEE9KCgpPT50LmNvbm5lY3Q/Q3QodC5jb25uZWN0KTpudWxsKSgpO2Z1bmN0aW9uIFIocyxuKXtpZighQSl0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIHRvIGFueSB3ZWJzb2NrZXRzXCIpO0EucmVjdihzLChhLGQpPT57dHJ5e24oYSxkKX1jYXRjaCh1KXt2LmVycm9yKHUpfX0pfXIoUixcInJlY3ZcIik7ZnVuY3Rpb24gJChzLG4pe2lmKCFBKXRocm93IG5ldyBFcnJvcihcIm5vdCBjb25uZWN0ZWQgdG8gYW55IHdlYnNvY2tldHNcIik7QS5zZW5kKHMsbil9cigkLFwic2VuZFwiKTtmdW5jdGlvbiBrKCl7cmV0dXJuIGUuZHQoKSpXLnRpbWVTY2FsZX1yKGssXCJkdFwiKTtmdW5jdGlvbiBJKHMsbj17fSl7bGV0IGE9bS5zb3VuZHNbc107aWYoIWEpdGhyb3cgbmV3IEVycm9yKGBzb3VuZCBub3QgZm91bmQ6IFwiJHtzfVwiYCk7cmV0dXJuIGkucGxheShhLG4pfXIoSSxcInBsYXlcIik7ZnVuY3Rpb24gaihzKXt2YXIgYTtsZXQgbj15KCk7cmV0dXJuISgoYT1uLmxheWVyc1tzIT1udWxsP3M6bi5kZWZMYXllcl0pPT1udWxsP3ZvaWQgMDphLm5vQ2FtKX1yKGosXCJpc0NhbUxheWVyXCIpO2Z1bmN0aW9uIFQocyl7cmV0dXJuIGoocyk/eSgpLmNhbS5tcG9zOmUubW91c2VQb3MoKX1yKFQsXCJtb3VzZVBvc1wiKTtmdW5jdGlvbiB3KHMsbj17fSl7dmFyIHU7bGV0IGE9KCgpPT50eXBlb2Ygcz09XCJzdHJpbmdcIj9tLnNwcml0ZXNbc106cykoKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoYHNwcml0ZSBub3QgZm91bmQ6IFwiJHtzfVwiYCk7bGV0IGQ9YS5mcmFtZXNbKHU9bi5mcmFtZSkhPW51bGw/dTowXTtvLmRyYXdUZXh0dXJlKGEudGV4LHhlKG1lKHt9LG4pLHtxdWFkOmR9KSl9cih3LFwiZHJhd1Nwcml0ZVwiKTtmdW5jdGlvbiBTKHMsbj17fSl7dmFyIHU7bGV0IGE9KHU9bi5mb250KSE9bnVsbD91OlJlLGQ9bS5mb250c1thXTtpZighZCl0aHJvdyBuZXcgRXJyb3IoYGZvbnQgbm90IGZvdW5kOiAke2F9YCk7by5kcmF3VGV4dChzLGQsbil9cihTLFwiZHJhd1RleHRcIik7bGV0IFU9OTgwLEI9XCJ0b3BsZWZ0XCIsXz17bG9hZGVkOiExLHNjZW5lczp7fSxjdXJTY2VuZTpudWxsLG5leHRTY2VuZTpudWxsfTtmdW5jdGlvbiBHKHMsbil7Xy5zY2VuZXNbc109e2luaXQ6bixpbml0aWFsaXplZDohMSxldmVudHM6e2FkZDpbXSx1cGRhdGU6W10sZHJhdzpbXSxkZXN0cm95OltdLGtleURvd246W10sa2V5UHJlc3M6W10sa2V5UHJlc3NSZXA6W10sa2V5UmVsZWFzZTpbXSxtb3VzZUNsaWNrOltdLG1vdXNlUmVsZWFzZTpbXSxtb3VzZURvd246W10sY2hhcklucHV0OltdfSxhY3Rpb246W10scmVuZGVyOltdLG9ianM6bmV3IE1hcCxsYXN0T2JqSUQ6MCx0aW1lcnM6e30sbGFzdFRpbWVySUQ6MCxjYW06e3BvczpmKG8ud2lkdGgoKS8yLG8uaGVpZ2h0KCkvMiksc2NhbGU6ZigxLDEpLGFuZ2xlOjAsc2hha2U6MCxtcG9zOmYoMCksbWF0cml4OmVlKCl9LGxheWVyczp7fSxkZWZMYXllcjpudWxsLGdyYXZpdHk6VSxkYXRhOnt9fX1yKEcsXCJzY2VuZVwiKTtmdW5jdGlvbiB5KCl7cmV0dXJuIF8uc2NlbmVzW18uY3VyU2NlbmVdfXIoeSxcImN1clNjZW5lXCIpO2Z1bmN0aW9uIEgoKXtyZXR1cm4geSgpLmRhdGF9cihILFwic2NlbmVEYXRhXCIpO2Z1bmN0aW9uIE0oKXtYKFwiYFwiLCgpPT57Vy5zaG93TG9nPSFXLnNob3dMb2csdi5pbmZvKGBzaG93IGxvZzogJHtXLnNob3dMb2c/XCJvblwiOlwib2ZmXCJ9YCl9KSxYKFwiZjFcIiwoKT0+e1cuaW5zcGVjdD0hVy5pbnNwZWN0LHYuaW5mbyhgaW5zcGVjdDogJHtXLmluc3BlY3Q/XCJvblwiOlwib2ZmXCJ9YCl9KSxYKFwiZjJcIiwoKT0+e1cuY2xlYXJMb2coKX0pLFgoXCJmOFwiLCgpPT57Vy5wYXVzZWQ9IVcucGF1c2VkLHYuaW5mbyhgJHtXLnBhdXNlZD9cInBhdXNlZFwiOlwidW5wYXVzZWRcIn1gKX0pLFgoXCJmN1wiLCgpPT57Vy50aW1lU2NhbGU9YWUoVy50aW1lU2NhbGUtLjIsMCwyKSx2LmluZm8oYHRpbWUgc2NhbGU6ICR7Vy50aW1lU2NhbGUudG9GaXhlZCgxKX1gKX0pLFgoXCJmOVwiLCgpPT57Vy50aW1lU2NhbGU9YWUoVy50aW1lU2NhbGUrLjIsMCwyKSx2LmluZm8oYHRpbWUgc2NhbGU6ICR7Vy50aW1lU2NhbGUudG9GaXhlZCgxKX1gKX0pLFgoXCJmMTBcIiwoKT0+e1cuc3RlcEZyYW1lKCksdi5pbmZvKFwic3RlcHBlZCBmcmFtZVwiKX0pfXIoTSxcInJlZ0RlYnVnSW5wdXRzXCIpO2Z1bmN0aW9uIHEocywuLi5uKXtfLm5leHRTY2VuZT17bmFtZTpzLGFyZ3M6Wy4uLm5dfX1yKHEsXCJnb1wiKTtmdW5jdGlvbiBKKHMsLi4ubil7RShzKSxfLmN1clNjZW5lPXM7bGV0IGE9Xy5zY2VuZXNbc107aWYoIWEpdGhyb3cgbmV3IEVycm9yKGBzY2VuZSBub3QgZm91bmQ6ICcke3N9J2ApO2lmKCFhLmluaXRpYWxpemVkKXt0cnl7YS5pbml0KC4uLm4pfWNhdGNoKGQpe3YuZXJyb3IoZC5zdGFjayl9dC5kZWJ1ZyYmTSgpLGEuaW5pdGlhbGl6ZWQ9ITB9fXIoSixcImdvU3luY1wiKTtmdW5jdGlvbiBFKHMpe2lmKCFfLnNjZW5lc1tzXSl0aHJvdyBuZXcgRXJyb3IoYHNjZW5lIG5vdCBmb3VuZDogJyR7c30nYCk7RyhzLF8uc2NlbmVzW3NdLmluaXQpfXIoRSxcInJlbG9hZFwiKTtmdW5jdGlvbiBPKHMsbil7bGV0IGE9eSgpOyFhfHwocy5mb3JFYWNoKChkLHUpPT57YS5sYXllcnNbZF09e2FscGhhOjEsb3JkZXI6dSsxLG5vQ2FtOiExfX0pLG4mJihhLmRlZkxheWVyPW4pKX1yKE8sXCJsYXllcnNcIik7ZnVuY3Rpb24gdGUoLi4ucyl7bGV0IG49eSgpLmNhbTtyZXR1cm4gcy5sZW5ndGg+MCYmKG4ucG9zPWYoLi4ucykpLG4ucG9zLmNsb25lKCl9cih0ZSxcImNhbVBvc1wiKTtmdW5jdGlvbiBuZSguLi5zKXtsZXQgbj15KCkuY2FtO3JldHVybiBzLmxlbmd0aD4wJiYobi5zY2FsZT1mKC4uLnMpKSxuLnNjYWxlLmNsb25lKCl9cihuZSxcImNhbVNjYWxlXCIpO2Z1bmN0aW9uIHVlKHMpe2xldCBuPXkoKS5jYW07cmV0dXJuIHMhPT12b2lkIDAmJihuLmFuZ2xlPXMpLG4uYW5nbGV9cih1ZSxcImNhbVJvdFwiKTtmdW5jdGlvbiBjZShzKXtsZXQgbj15KCkuY2FtO24uc2hha2U9c31yKGNlLFwiY2FtU2hha2VcIik7ZnVuY3Rpb24gZmUocyl7bGV0IG49eSgpO3MuZm9yRWFjaChhPT57bi5sYXllcnNbYV0mJihuLmxheWVyc1thXS5ub0NhbT0hMCl9KX1yKGZlLFwiY2FtSWdub3JlXCIpO2Z1bmN0aW9uIGxlKHMpe2xldCBuPXtoaWRkZW46ITEscGF1c2VkOiExLF90YWdzOltdLF9pZDpudWxsLF9ldmVudHM6e2FkZDpbXSx1cGRhdGU6W10sZHJhdzpbXSxkZXN0cm95OltdLGluc3BlY3Q6W119LHVzZSh1KXtpZih1PT09dm9pZCAwKXJldHVybjtsZXQgcD10eXBlb2YgdTtpZihwPT09XCJzdHJpbmdcIil7dGhpcy5fdGFncy5wdXNoKHUpO3JldHVybn1pZihwIT09XCJvYmplY3RcIil0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgY29tcCB0eXBlOiAke3B9YCk7aWYoQXJyYXkuaXNBcnJheSh1KSl7Zm9yKGxldCBjIG9mIHUpdGhpcy51c2UoYyk7cmV0dXJufWZvcihsZXQgYyBpbiB1KXtpZih0eXBlb2YgdVtjXT09XCJmdW5jdGlvblwiKXt0aGlzLl9ldmVudHNbY10/dGhpcy5fZXZlbnRzW2NdLnB1c2godVtjXS5iaW5kKHRoaXMpKTp0aGlzW2NdPXVbY10uYmluZCh0aGlzKTtjb250aW51ZX10aGlzW2NdPXVbY119fSxleGlzdHMoKXtyZXR1cm4gdGhpcy5faWQhPT12b2lkIDB9LGlzKHUpe2lmKHU9PT1cIipcIilyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KHUpKXtmb3IobGV0IHAgb2YgdSlpZighdGhpcy5fdGFncy5pbmNsdWRlcyhwKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gdGhpcy5fdGFncy5pbmNsdWRlcyh1KX0sb24odSxwKXt0aGlzLl9ldmVudHNbdV18fCh0aGlzLl9ldmVudHNbdV09W10pLHRoaXMuX2V2ZW50c1t1XS5wdXNoKHApfSxhY3Rpb24odSl7dGhpcy5vbihcInVwZGF0ZVwiLHUpfSx0cmlnZ2VyKHUsLi4ucCl7aWYodGhpcy5fZXZlbnRzW3VdKWZvcihsZXQgZyBvZiB0aGlzLl9ldmVudHNbdV0pZy5jYWxsKHRoaXMsLi4ucCk7bGV0IGw9eSgpLmV2ZW50c1t1XTtpZihsKWZvcihsZXQgZyBvZiBsKXRoaXMuaXMoZy50YWcpJiZnLmNiKHRoaXMsLi4ucCl9LHJtVGFnKHUpe2xldCBwPXRoaXMuX3RhZ3MuaW5kZXhPZih1KTtwPi0xJiZ0aGlzLl90YWdzLnNwbGljZShwLDEpfX07bi51c2Uocyk7bGV0IGE9eSgpLGQ9YS5sYXN0T2JqSUQrKzthLm9ianMuc2V0KGQsbiksbi5faWQ9ZCxuLnRyaWdnZXIoXCJhZGRcIik7Zm9yKGxldCB1IG9mIGEuZXZlbnRzLmFkZCluLmlzKHUudGFnKSYmdS5jYihuKTtyZXR1cm4gbn1yKGxlLFwiYWRkXCIpO2Z1bmN0aW9uIHBlKHMpe2lmKCFzLmV4aXN0cygpKXJldHVybjtsZXQgbj15KCk7bi5vYmpzLmRlbGV0ZShzLl9pZCk7bGV0IGE9bi5sYXN0T2JqSUQrKztyZXR1cm4gbi5vYmpzLnNldChhLHMpLHMuX2lkPWEsc31yKHBlLFwicmVhZGRcIik7ZnVuY3Rpb24gVGUocyxuLGEpe2xldCBkPXkoKTtkLmV2ZW50c1tzXXx8KGQuZXZlbnRzW3NdPVtdKSxkLmV2ZW50c1tzXS5wdXNoKHt0YWc6bixjYjphfSl9cihUZSxcIm9uXCIpO2Z1bmN0aW9uIGgocyxuKXt0eXBlb2Ygcz09XCJmdW5jdGlvblwiJiZuPT09dm9pZCAwP3koKS5hY3Rpb24ucHVzaChzKTp0eXBlb2Ygcz09XCJzdHJpbmdcIiYmVGUoXCJ1cGRhdGVcIixzLG4pfXIoaCxcImFjdGlvblwiKTtmdW5jdGlvbiB4KHMsbil7dHlwZW9mIHM9PVwiZnVuY3Rpb25cIiYmbj09PXZvaWQgMD95KCkucmVuZGVyLnB1c2gocyk6dHlwZW9mIHM9PVwic3RyaW5nXCImJlRlKFwidXBkYXRlXCIscyxuKX1yKHgsXCJyZW5kZXJcIik7ZnVuY3Rpb24gYihzLG4sYSl7aChzLGQ9PntkLl9jaGVja0NvbGxpc2lvbnMobix1PT57YShkLHUpfSl9KX1yKGIsXCJjb2xsaWRlc1wiKTtmdW5jdGlvbiBMKHMsbixhKXtoKHMsZD0+e2QuX2NoZWNrT3ZlcmxhcHMobix1PT57YShkLHUpfSl9KX1yKEwsXCJvdmVybGFwc1wiKTtmdW5jdGlvbiB6KHMsbil7aChzLGE9PnthLmlzQ2xpY2tlZCgpJiZuKGEpfSl9cih6LFwiY2xpY2tzXCIpO2Z1bmN0aW9uIFYocyxuKXtyZXR1cm4gbmV3IFByb21pc2UoYT0+e2xldCBkPXkoKTtkLnRpbWVyc1tkLmxhc3RUaW1lcklEKytdPXt0aW1lOnMsY2I6KCk9PntuJiZuKCksYSgpfX19KX1yKFYsXCJ3YWl0XCIpO2Z1bmN0aW9uIEsocyxuKXtsZXQgYT0hMSxkPXIoKCk9PnthfHwobigpLFYocyxkKSl9LFwibmV3RlwiKTtyZXR1cm4gZCgpLHtzdG9wKCl7YT0hMH19fXIoSyxcImxvb3BcIik7ZnVuY3Rpb24gQyhzLG4sYSl7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IGQgb2YgbilDKHMsZCxhKTtlbHNlIHkoKS5ldmVudHNbc10ucHVzaCh7a2V5Om4sY2I6YX0pfXIoQyxcInB1c2hLZXlFdmVudFwiKTtmdW5jdGlvbiBQKHMsbil7QyhcImtleURvd25cIixzLG4pfXIoUCxcImtleURvd25cIik7ZnVuY3Rpb24gWChzLG4pe0MoXCJrZXlQcmVzc1wiLHMsbil9cihYLFwia2V5UHJlc3NcIik7ZnVuY3Rpb24gRihzLG4pe0MoXCJrZXlQcmVzc1JlcFwiLHMsbil9cihGLFwia2V5UHJlc3NSZXBcIik7ZnVuY3Rpb24gWihzLG4pe0MoXCJrZXlSZWxlYXNlXCIscyxuKX1yKFosXCJrZXlSZWxlYXNlXCIpO2Z1bmN0aW9uIHJlKHMpe3koKS5ldmVudHMuY2hhcklucHV0LnB1c2goe2NiOnN9KX1yKHJlLFwiY2hhcklucHV0XCIpO2Z1bmN0aW9uIHllKHMpe3koKS5ldmVudHMubW91c2VEb3duLnB1c2goe2NiOnN9KX1yKHllLFwibW91c2VEb3duXCIpO2Z1bmN0aW9uIEllKHMpe3koKS5ldmVudHMubW91c2VDbGljay5wdXNoKHtjYjpzfSl9cihJZSxcIm1vdXNlQ2xpY2tcIik7ZnVuY3Rpb24gTGUocyl7eSgpLmV2ZW50cy5tb3VzZVJlbGVhc2UucHVzaCh7Y2I6c30pfXIoTGUsXCJtb3VzZVJlbGVhc2VcIik7ZnVuY3Rpb24gc2Uocyl7bGV0IG49eSgpLGE9Wy4uLm4ub2Jqcy52YWx1ZXMoKV0uc29ydCgoZCx1KT0+e3ZhciBsLGcsRCxOLFEsZGU7bGV0IHA9KEQ9KGc9bi5sYXllcnNbKGw9ZC5sYXllcikhPW51bGw/bDpuLmRlZkxheWVyXSk9PW51bGw/dm9pZCAwOmcub3JkZXIpIT1udWxsP0Q6MCxjPShkZT0oUT1uLmxheWVyc1soTj11LmxheWVyKSE9bnVsbD9OOm4uZGVmTGF5ZXJdKT09bnVsbD92b2lkIDA6US5vcmRlcikhPW51bGw/ZGU6MDtyZXR1cm4gcC1jfSk7cmV0dXJuIHM/YS5maWx0ZXIoZD0+ZC5pcyhzKSk6YX1yKHNlLFwiZ2V0XCIpO2Z1bmN0aW9uIGhlKHMsbil7dHlwZW9mIHM9PVwiZnVuY3Rpb25cIiYmbj09PXZvaWQgMD9zZSgpLmZvckVhY2gocyk6dHlwZW9mIHM9PVwic3RyaW5nXCImJnNlKHMpLmZvckVhY2gobil9cihoZSxcImV2ZXJ5XCIpO2Z1bmN0aW9uIFNlKHMsbil7dHlwZW9mIHM9PVwiZnVuY3Rpb25cIiYmbj09PXZvaWQgMD9zZSgpLnJldmVyc2UoKS5mb3JFYWNoKHMpOnR5cGVvZiBzPT1cInN0cmluZ1wiJiZzZShzKS5yZXZlcnNlKCkuZm9yRWFjaChuKX1yKFNlLFwicmV2ZXJ5XCIpO2Z1bmN0aW9uIGllKHMpe2lmKCFzLmV4aXN0cygpKXJldHVybjtsZXQgbj15KCk7IW58fChzLnRyaWdnZXIoXCJkZXN0cm95XCIpLG4ub2Jqcy5kZWxldGUocy5faWQpLGRlbGV0ZSBzLl9pZCl9cihpZSxcImRlc3Ryb3lcIik7ZnVuY3Rpb24gVmUocyl7aGUocyxuPT57aWUobil9KX1yKFZlLFwiZGVzdHJveUFsbFwiKTtmdW5jdGlvbiBGZShzKXtsZXQgbj15KCk7cmV0dXJuIHMhPT12b2lkIDAmJihuLmdyYXZpdHk9cyksbi5ncmF2aXR5fXIoRmUsXCJncmF2aXR5XCIpO2Z1bmN0aW9uIEVlKHMpe2xldCBuPXkoKTtpZighbil0aHJvdyBuZXcgRXJyb3IoYHNjZW5lIG5vdCBmb3VuZDogJyR7Xy5jdXJTY2VuZX0nYCk7bGV0IGE9c3x8IVcucGF1c2VkO2lmKGEpZm9yKGxldCBjIGluIG4udGltZXJzKXtsZXQgbD1uLnRpbWVyc1tjXTtsLnRpbWUtPWsoKSxsLnRpbWU8PTAmJihsLmNiKCksZGVsZXRlIG4udGltZXJzW2NdKX1pZihTZShjPT57IWMucGF1c2VkJiZhJiZjLnRyaWdnZXIoXCJ1cGRhdGVcIil9KSxhKWZvcihsZXQgYyBvZiBuLmFjdGlvbiljKCk7bGV0IGQ9ZihvLndpZHRoKCksby5oZWlnaHQoKSksdT1uLmNhbSxwPXJ0KGtlKDAsTWF0aC5QSSoyKSkuc2NhbGUodS5zaGFrZSk7dS5zaGFrZT1fZSh1LnNoYWtlLDAsNSprKCkpLHUubWF0cml4PWVlKCkudHJhbnNsYXRlKGQuc2NhbGUoLjUpKS5zY2FsZSh1LnNjYWxlKS5yb3RhdGVaKHUuYW5nbGUpLnRyYW5zbGF0ZShkLnNjYWxlKC0uNSkpLnRyYW5zbGF0ZSh1LnBvcy5zY2FsZSgtMSkuYWRkKGQuc2NhbGUoLjUpKS5hZGQocCkpLHUubXBvcz11Lm1hdHJpeC5pbnZlcnQoKS5tdWx0VmVjMihlLm1vdXNlUG9zKCkpLGhlKGM9PntjLmhpZGRlbnx8KG8ucHVzaFRyYW5zZm9ybSgpLGooYy5sYXllcikmJm8ucHVzaE1hdHJpeCh1Lm1hdHJpeCksYy50cmlnZ2VyKFwiZHJhd1wiKSxvLnBvcFRyYW5zZm9ybSgpKX0pO2ZvcihsZXQgYyBvZiBuLnJlbmRlciljKCl9cihFZSxcImdhbWVGcmFtZVwiKTtmdW5jdGlvbiBOZSgpe2xldCBzPXkoKTtmb3IobGV0IG4gb2Ygcy5ldmVudHMuY2hhcklucHV0KWUuY2hhcklucHV0dGVkKCkuZm9yRWFjaChuLmNiKTtmb3IobGV0IG4gb2Ygcy5ldmVudHMua2V5RG93billLmtleURvd24obi5rZXkpJiZuLmNiKCk7Zm9yKGxldCBuIG9mIHMuZXZlbnRzLmtleVByZXNzKWUua2V5UHJlc3NlZChuLmtleSkmJm4uY2IoKTtmb3IobGV0IG4gb2Ygcy5ldmVudHMua2V5UHJlc3NSZXApZS5rZXlQcmVzc2VkUmVwKG4ua2V5KSYmbi5jYigpO2ZvcihsZXQgbiBvZiBzLmV2ZW50cy5rZXlSZWxlYXNlKWUua2V5UmVsZWFzZWQobi5rZXkpJiZuLmNiKCk7Zm9yKGxldCBuIG9mIHMuZXZlbnRzLm1vdXNlRG93billLm1vdXNlRG93bigpJiZuLmNiKCk7Zm9yKGxldCBuIG9mIHMuZXZlbnRzLm1vdXNlQ2xpY2spZS5tb3VzZUNsaWNrZWQoKSYmbi5jYigpO2ZvcihsZXQgbiBvZiBzLmV2ZW50cy5tb3VzZVJlbGVhc2UpZS5tb3VzZVJlbGVhc2VkKCkmJm4uY2IoKX1yKE5lLFwiaGFuZGxlRXZlbnRzXCIpO2Z1bmN0aW9uIENlKCl7dmFyIGM7bGV0IHM9eSgpLG49bnVsbCxhPW0uZGVmRm9udCgpLGQ9WSgoYz10Lmluc3BlY3RDb2xvcikhPW51bGw/YzpbMCwxLDEsMV0pO2Z1bmN0aW9uIHUobCxnLEQpe2xldCBOPWYoNCkuc2NhbGUoMS9EKSxRPW8uZm10VGV4dChnLGEse3NpemU6MTIvRCxwb3M6bC5hZGQoZihOLngsTi55KSl9KTtvLmRyYXdSZWN0KGwsUS53aWR0aCtOLngqMixRLmhlaWdodCtOLngqMix7Y29sb3I6WSgwLDAsMCwxKX0pLG8uZHJhd0ZtdFRleHQoUSl9cih1LFwiZHJhd0luc3BlY3RUeHRcIik7ZnVuY3Rpb24gcChsLGcpe2xldCBEPWoobC5sYXllciksTj1vLnNjYWxlKCkqKEQ/KHMuY2FtLnNjYWxlLngrcy5jYW0uc2NhbGUueSkvMjoxKTtEJiYoby5wdXNoVHJhbnNmb3JtKCksby5wdXNoTWF0cml4KHMuY2FtLm1hdHJpeCkpLGcoTiksRCYmby5wb3BUcmFuc2Zvcm0oKX1yKHAsXCJkcmF3T2JqXCIpLFNlKGw9PnshbC5hcmVhfHxsLmhpZGRlbnx8cChsLGc9PntufHxsLmlzSG92ZXJlZCgpJiYobj1sKTtsZXQgRD0obj09PWw/NjoyKS9nLE49bC5fd29ybGRBcmVhKCksUT1OLnAyLngtTi5wMS54LGRlPU4ucDIueS1OLnAxLnk7by5kcmF3UmVjdFN0cm9rZShOLnAxLFEsZGUse3dpZHRoOkQsY29sb3I6ZH0pfSl9KSxuJiZwKG4sbD0+e2xldCBnPVQobi5sYXllciksRD1bXTtmb3IobGV0IE4gb2Ygbi5fdGFncylELnB1c2goYFwiJHtOfVwiYCk7Zm9yKGxldCBOIG9mIG4uX2V2ZW50cy5pbnNwZWN0KXtsZXQgUT1OKCk7Zm9yKGxldCBkZSBpbiBRKUQucHVzaChgJHtkZX06ICR7UVtkZV19YCl9dShnLEQuam9pbihgXG5gKSxsKX0pLHUoZigwKSxlLmZwcygpK1wiXCIsby5zY2FsZSgpKX1yKENlLFwiZHJhd0luc3BlY3RcIik7ZnVuY3Rpb24gVWUocywuLi5uKXtlLnJ1bigoKT0+e2lmKG8uZnJhbWVTdGFydCgpLF8ubG9hZGVkKXt0cnl7aWYoIXkoKSl0aHJvdyBuZXcgRXJyb3IoYHNjZW5lIG5vdCBmb3VuZDogJyR7Xy5jdXJTY2VuZX0nYCk7TmUoKSxFZSgpLFcuaW5zcGVjdCYmQ2UoKX1jYXRjaChhKXt2LmVycm9yKGEuc3RhY2spLGUucXVpdCgpfVcuc2hvd0xvZyYmdi5kcmF3KCksXy5uZXh0U2NlbmUmJihKLmFwcGx5KG51bGwsW18ubmV4dFNjZW5lLm5hbWUsLi4uXy5uZXh0U2NlbmUuYXJnc10pLF8ubmV4dFNjZW5lPW51bGwpfWVsc2V7bGV0IGE9bS5sb2FkUHJvZ3Jlc3MoKTtpZihhPT09MSlfLmxvYWRlZD0hMCxKKHMsLi4ubiksQSYmQS5jb25uZWN0KCkuY2F0Y2godi5lcnJvcik7ZWxzZXtsZXQgZD1vLndpZHRoKCkvMix1PTI0L28uc2NhbGUoKSxwPWYoby53aWR0aCgpLzIsby5oZWlnaHQoKS8yKS5zdWIoZihkLzIsdS8yKSk7by5kcmF3UmVjdChmKDApLG8ud2lkdGgoKSxvLmhlaWdodCgpLHtjb2xvcjpxZSgwLDAsMCl9KSxvLmRyYXdSZWN0U3Ryb2tlKHAsZCx1LHt3aWR0aDo0L28uc2NhbGUoKX0pLG8uZHJhd1JlY3QocCxkKmEsdSl9fW8uZnJhbWVFbmQoKX0pfXIoVWUsXCJzdGFydFwiKTtmdW5jdGlvbiBHZSguLi5zKXtyZXR1cm57cG9zOmYoLi4ucyksbW92ZSguLi5uKXtsZXQgYT1mKC4uLm4pLGQ9YS54KmsoKSx1PWEueSprKCk7dGhpcy5wb3MueCs9ZCx0aGlzLnBvcy55Kz11fSxpbnNwZWN0KCl7cmV0dXJue3BvczpgKCR7fn50aGlzLnBvcy54fSwgJHt+fnRoaXMucG9zLnl9KWB9fX19cihHZSxcInBvc1wiKTtmdW5jdGlvbiBXZSguLi5zKXtyZXR1cm4gcy5sZW5ndGg9PT0wP1dlKDEpOntzY2FsZTpmKC4uLnMpLGZsaXBYKG4pe3RoaXMuc2NhbGUueD1NYXRoLnNpZ24obikqTWF0aC5hYnModGhpcy5zY2FsZS54KX0sZmxpcFkobil7dGhpcy5zY2FsZS55PU1hdGguc2lnbihuKSpNYXRoLmFicyh0aGlzLnNjYWxlLnkpfX19cihXZSxcInNjYWxlXCIpO2Z1bmN0aW9uIEF0KHMpe3JldHVybnthbmdsZTpzIT1udWxsP3M6MH19cihBdCxcInJvdGF0ZVwiKTtmdW5jdGlvbiBfdCguLi5zKXtyZXR1cm57Y29sb3I6WSguLi5zKX19cihfdCxcImNvbG9yXCIpO2Z1bmN0aW9uIGt0KHMpe3JldHVybntvcmlnaW46c319cihrdCxcIm9yaWdpblwiKTtmdW5jdGlvbiBEdChzKXtyZXR1cm57bGF5ZXI6cyxpbnNwZWN0KCl7dmFyIGE7bGV0IG49eSgpO3JldHVybntsYXllcjooYT10aGlzLmxheWVyKSE9bnVsbD9hOm4uZGVmTGF5ZXJ9fX19cihEdCxcImxheWVyXCIpO2Z1bmN0aW9uIEJlKHMsbil7dmFyIGQsdTtsZXQgYT15KCk7cmV0dXJuKChkPXMubGF5ZXIpIT1udWxsP2Q6YS5kZWZMYXllcik9PT0oKHU9bi5sYXllcikhPW51bGw/dTphLmRlZkxheWVyKX1yKEJlLFwiaXNTYW1lTGF5ZXJcIik7ZnVuY3Rpb24gS2UocyxuKXtsZXQgYT17fSxkPXt9O3JldHVybnthcmVhOntwMTpzLHAyOm59LGFyZWFXaWR0aCgpe2xldHtwMTp1LHAyOnB9PXRoaXMuX3dvcmxkQXJlYSgpO3JldHVybiBwLngtdS54fSxhcmVhSGVpZ2h0KCl7bGV0e3AxOnUscDI6cH09dGhpcy5fd29ybGRBcmVhKCk7cmV0dXJuIHAueS11Lnl9LGlzQ2xpY2tlZCgpe3JldHVybiBlLm1vdXNlQ2xpY2tlZCgpJiZ0aGlzLmlzSG92ZXJlZCgpfSxpc0hvdmVyZWQoKXtyZXR1cm4gdGhpcy5oYXNQdChUKHRoaXMubGF5ZXIpKX0saXNDb2xsaWRlZCh1KXtpZighdS5hcmVhfHwhQmUodGhpcyx1KSlyZXR1cm4hMTtsZXQgcD10aGlzLl93b3JsZEFyZWEoKSxjPXUuX3dvcmxkQXJlYSgpO3JldHVybiB6ZShwLGMpfSxpc092ZXJsYXBwZWQodSl7aWYoIXUuYXJlYXx8IUJlKHRoaXMsdSkpcmV0dXJuITE7bGV0IHA9dGhpcy5fd29ybGRBcmVhKCksYz11Ll93b3JsZEFyZWEoKTtyZXR1cm4gaHQocCxjKX0sY2xpY2tzKHUpe3RoaXMuYWN0aW9uKCgpPT57dGhpcy5pc0NsaWNrZWQoKSYmdSgpfSl9LGhvdmVycyh1KXt0aGlzLmFjdGlvbigoKT0+e3RoaXMuaXNIb3ZlcmVkKCkmJnUoKX0pfSxjb2xsaWRlcyh1LHApe3RoaXMuYWN0aW9uKCgpPT57dGhpcy5fY2hlY2tDb2xsaXNpb25zKHUscCl9KX0sb3ZlcmxhcHModSxwKXt0aGlzLmFjdGlvbigoKT0+e3RoaXMuX2NoZWNrT3ZlcmxhcHModSxwKX0pfSxoYXNQdCh1KXtsZXQgcD10aGlzLl93b3JsZEFyZWEoKTtyZXR1cm4gbXQoe3AxOnAucDEscDI6cC5wMn0sdSl9LHJlc29sdmUoKXtsZXQgdT1bXTtyZXR1cm4gaGUocD0+e2lmKHA9PT10aGlzfHwhcC5zb2xpZHx8IXAuYXJlYXx8IUJlKHRoaXMscCkpcmV0dXJuO2xldCBjPXRoaXMuX3dvcmxkQXJlYSgpLGw9cC5fd29ybGRBcmVhKCk7aWYoIXplKGMsbCkpcmV0dXJuO2xldCBnPWMucDIueC1sLnAxLngsRD1sLnAyLngtYy5wMS54LE49Yy5wMi55LWwucDEueSxRPWwucDIueS1jLnAxLnksZGU9TWF0aC5taW4oZyxELE4sUSksTnQ9KCgpPT57c3dpdGNoKGRlKXtjYXNlIGc6cmV0dXJuIHRoaXMucG9zLngtPWcsXCJyaWdodFwiO2Nhc2UgRDpyZXR1cm4gdGhpcy5wb3MueCs9RCxcImxlZnRcIjtjYXNlIE46cmV0dXJuIHRoaXMucG9zLnktPU4sXCJib3R0b21cIjtjYXNlIFE6cmV0dXJuIHRoaXMucG9zLnkrPVEsXCJ0b3BcIn19KSgpO3UucHVzaCh7b2JqOnAsc2lkZTpOdH0pfSksdX0sX2NoZWNrQ29sbGlzaW9ucyh1LHApe2hlKHUsYz0+e3RoaXMhPT1jJiYoYVtjLl9pZF18fHRoaXMuaXNDb2xsaWRlZChjKSYmKHAoYyksYVtjLl9pZF09YykpfSk7Zm9yKGxldCBjIGluIGEpe2xldCBsPWFbY107dGhpcy5pc0NvbGxpZGVkKGwpfHxkZWxldGUgYVtjXX19LF9jaGVja092ZXJsYXBzKHUscCl7aGUodSxjPT57dGhpcyE9PWMmJihkW2MuX2lkXXx8dGhpcy5pc092ZXJsYXBwZWQoYykmJihwKGMpLGRbYy5faWRdPWMpKX0pO2ZvcihsZXQgYyBpbiBkKXtsZXQgbD1kW2NdO3RoaXMuaXNPdmVybGFwcGVkKGwpfHxkZWxldGUgZFtjXX19LF93b3JsZEFyZWEoKXtsZXQgdT10aGlzLmFyZWEscD10aGlzLnBvc3x8ZigwKSxjPXRoaXMuc2NhbGV8fGYoMSksbD1wLmFkZCh1LnAxLmRvdChjKSksZz1wLmFkZCh1LnAyLmRvdChjKSk7cmV0dXJue3AxOmYoTWF0aC5taW4obC54LGcueCksTWF0aC5taW4obC55LGcueSkpLHAyOmYoTWF0aC5tYXgobC54LGcueCksTWF0aC5tYXgobC55LGcueSkpfX19fXIoS2UsXCJhcmVhXCIpO2Z1bmN0aW9uIE1lKHMsbixhKXtsZXQgZD1mKHMsbiksdT1QZShhfHxCKS5kb3QoZCkuc2NhbGUoLS41KTtyZXR1cm4gS2UodS5zdWIoZC5zY2FsZSguNSkpLHUuYWRkKGQuc2NhbGUoLjUpKSl9cihNZSxcImdldEFyZWFGcm9tU2l6ZVwiKTtmdW5jdGlvbiBQdChzLG49e30pe2xldCBhPW0uc3ByaXRlc1tzXTtpZighYSl0aHJvdyBuZXcgRXJyb3IoYHNwcml0ZSBub3QgZm91bmQ6IFwiJHtzfVwiYCk7bGV0IGQ9bWUoe30sYS5mcmFtZXNbMF0pO24ucXVhZCYmKGQueCs9bi5xdWFkLngqZC53LGQueSs9bi5xdWFkLnkqZC5oLGQudyo9bi5xdWFkLncsZC5oKj1uLnF1YWQuaCk7bGV0IHU9YS50ZXgud2lkdGgqZC53LHA9YS50ZXguaGVpZ2h0KmQuaCxjPW51bGw7cmV0dXJue3dpZHRoOnUsaGVpZ2h0OnAsYW5pbVNwZWVkOm4uYW5pbVNwZWVkfHwuMSxmcmFtZTpuLmZyYW1lfHwwLHF1YWQ6bi5xdWFkfHxvZSgwLDAsMSwxKSxhZGQoKXshdGhpcy5hcmVhJiYhbi5ub0FyZWEmJnRoaXMudXNlKE1lKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5vcmlnaW4pKX0sZHJhdygpe2xldCBsPXkoKSxnPWEuZnJhbWVzW3RoaXMuZnJhbWVdO3coYSx7cG9zOnRoaXMucG9zLHNjYWxlOnRoaXMuc2NhbGUscm90OnRoaXMuYW5nbGUsY29sb3I6dGhpcy5jb2xvcixmcmFtZTp0aGlzLmZyYW1lLG9yaWdpbjp0aGlzLm9yaWdpbixxdWFkOnRoaXMucXVhZCxwcm9nOm0uc2hhZGVyc1t0aGlzLnNoYWRlcl0sdW5pZm9ybTp0aGlzLnVuaWZvcm19KX0sdXBkYXRlKCl7aWYoIWMpcmV0dXJuO2xldCBsPWEuYW5pbXNbYy5uYW1lXTtjLnRpbWVyKz1rKCksYy50aW1lcj49dGhpcy5hbmltU3BlZWQmJih0aGlzLmZyYW1lKyssdGhpcy5mcmFtZT5sLnRvJiYoYy5sb29wP3RoaXMuZnJhbWU9bC5mcm9tOih0aGlzLmZyYW1lLS0sdGhpcy5zdG9wKCkpKSxjJiYoYy50aW1lci09dGhpcy5hbmltU3BlZWQpKX0scGxheShsLGc9ITApe2xldCBEPWEuYW5pbXNbbF07aWYoIUQpdGhyb3cgbmV3IEVycm9yKGBhbmltIG5vdCBmb3VuZDogJHtsfWApO2MmJnRoaXMuc3RvcCgpLGM9e25hbWU6bCxsb29wOmcsdGltZXI6MH0sdGhpcy5mcmFtZT1ELmZyb20sdGhpcy50cmlnZ2VyKFwiYW5pbVBsYXlcIixsKX0sc3RvcCgpe2lmKCFjKXJldHVybjtsZXQgbD1jLm5hbWU7Yz1udWxsLHRoaXMudHJpZ2dlcihcImFuaW1FbmRcIixsKX0sY2hhbmdlU3ByaXRlKGwpe2lmKGE9bS5zcHJpdGVzW2xdLCFhKXRocm93IG5ldyBFcnJvcihgc3ByaXRlIG5vdCBmb3VuZDogXCIke2x9XCJgKTtsZXQgZz1tZSh7fSxhLmZyYW1lc1swXSk7bi5xdWFkJiYoZy54Kz1uLnF1YWQueCpnLncsZy55Kz1uLnF1YWQueSpnLmgsZy53Kj1uLnF1YWQudyxnLmgqPW4ucXVhZC5oKSx0aGlzLndpZHRoPWEudGV4LndpZHRoKmcudyx0aGlzLmhlaWdodD1hLnRleC5oZWlnaHQqZy5oLHRoaXMuYXJlYSYmIW4ubm9BcmVhJiZ0aGlzLnVzZShNZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMub3JpZ2luKSksYz1udWxsLHRoaXMuZnJhbWU9MH0sbnVtRnJhbWVzKCl7cmV0dXJuIGEuZnJhbWVzLmxlbmd0aH0sY3VyQW5pbSgpe3JldHVybiBjPT1udWxsP3ZvaWQgMDpjLm5hbWV9LGluc3BlY3QoKXtsZXQgbD17fTtyZXR1cm4gYyYmKGwuY3VyQW5pbT1gXCIke2MubmFtZX1cImApLGx9fX1yKFB0LFwic3ByaXRlXCIpO2Z1bmN0aW9uIEl0KHMsbixhPXt9KXtyZXR1cm57dGV4dDpzLHRleHRTaXplOm4sZm9udDphLmZvbnQsd2lkdGg6MCxoZWlnaHQ6MCxhZGQoKXt2YXIgZCx1LHA7aWYoIXRoaXMuYXJlYSYmIWEubm9BcmVhKXtsZXQgYz15KCksbD1tLmZvbnRzWyhkPXRoaXMuZm9udCkhPW51bGw/ZDpSZV0sZz1vLmZtdFRleHQodGhpcy50ZXh0K1wiXCIsbCx7cG9zOnRoaXMucG9zLHNjYWxlOnRoaXMuc2NhbGUscm90OnRoaXMuYW5nbGUsc2l6ZTp0aGlzLnRleHRTaXplLG9yaWdpbjp0aGlzLm9yaWdpbixjb2xvcjp0aGlzLmNvbG9yLHdpZHRoOmEud2lkdGh9KTt0aGlzLndpZHRoPWcud2lkdGgvKCgodT10aGlzLnNjYWxlKT09bnVsbD92b2lkIDA6dS54KXx8MSksdGhpcy5oZWlnaHQ9Zy5oZWlnaHQvKCgocD10aGlzLnNjYWxlKT09bnVsbD92b2lkIDA6cC55KXx8MSksdGhpcy51c2UoTWUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLm9yaWdpbikpfX0sZHJhdygpe3ZhciBjO2xldCBkPXkoKSx1PW0uZm9udHNbKGM9dGhpcy5mb250KSE9bnVsbD9jOlJlXSxwPW8uZm10VGV4dCh0aGlzLnRleHQrXCJcIix1LHtwb3M6dGhpcy5wb3Msc2NhbGU6dGhpcy5zY2FsZSxyb3Q6dGhpcy5hbmdsZSxzaXplOnRoaXMudGV4dFNpemUsb3JpZ2luOnRoaXMub3JpZ2luLGNvbG9yOnRoaXMuY29sb3Isd2lkdGg6YS53aWR0aH0pO3RoaXMud2lkdGg9cC53aWR0aCx0aGlzLmhlaWdodD1wLmhlaWdodCxvLmRyYXdGbXRUZXh0KHApfX19cihJdCxcInRleHRcIik7ZnVuY3Rpb24gTHQocyxuLGE9e30pe3JldHVybnt3aWR0aDpzLGhlaWdodDpuLGFkZCgpeyF0aGlzLmFyZWEmJiFhLm5vQXJlYSYmdGhpcy51c2UoTWUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLm9yaWdpbikpfSxkcmF3KCl7bGV0IGQ9eSgpO28uZHJhd1JlY3QodGhpcy5wb3MsdGhpcy53aWR0aCx0aGlzLmhlaWdodCx7c2NhbGU6dGhpcy5zY2FsZSxyb3Q6dGhpcy5hbmdsZSxjb2xvcjp0aGlzLmNvbG9yLG9yaWdpbjp0aGlzLm9yaWdpbixwcm9nOm0uc2hhZGVyc1t0aGlzLnNoYWRlcl0sdW5pZm9ybTp0aGlzLnVuaWZvcm19KX19fXIoTHQsXCJyZWN0XCIpO2Z1bmN0aW9uIEZ0KCl7cmV0dXJue3NvbGlkOiEwfX1yKEZ0LFwic29saWRcIik7bGV0IEd0PTk2MCxNdD00ODA7ZnVuY3Rpb24gcXQocz17fSl7dmFyIHAsYztsZXQgbj0wLGE9bnVsbCxkPW51bGwsdT0ocD1zLm1heFZlbCkhPW51bGw/cDpHdDtyZXR1cm57anVtcEZvcmNlOihjPXMuanVtcEZvcmNlKSE9bnVsbD9jOk10LHVwZGF0ZSgpe3RoaXMubW92ZSgwLG4pO2xldCBsPXRoaXMucmVzb2x2ZSgpLGc9ITE7aWYoYSYmKCFhLmV4aXN0cygpfHwhdGhpcy5pc0NvbGxpZGVkKGEpPyhhPW51bGwsZD1udWxsLGc9ITApOmQmJih0aGlzLnBvcz10aGlzLnBvcy5hZGQoYS5wb3Muc3ViKGQpKSxkPWEucG9zLmNsb25lKCkpKSwhYSl7bj1NYXRoLm1pbihuK0ZlKCkqaygpLHUpO2ZvcihsZXQgRCBvZiBsKUQuc2lkZT09PVwiYm90dG9tXCImJm4+MD8oYT1ELm9iaixuPTAsZD1hLnBvcy5jbG9uZSgpLGd8fHRoaXMudHJpZ2dlcihcImdyb3VuZGVkXCIsYSkpOkQuc2lkZT09PVwidG9wXCImJm48MCYmKG49MCx0aGlzLnRyaWdnZXIoXCJoZWFkYnVtcFwiLEQub2JqKSl9fSxjdXJQbGF0Zm9ybSgpe3JldHVybiBhfSxncm91bmRlZCgpe3JldHVybiBhIT09bnVsbH0sZmFsbGluZygpe3JldHVybiBuPjB9LGp1bXAobCl7YT1udWxsLG49LWx8fC10aGlzLmp1bXBGb3JjZX19fXIocXQsXCJib2R5XCIpO2Z1bmN0aW9uIE90KHMsbj17fSl7bGV0IGE9bS5zaGFkZXJzW3NdO3JldHVybntzaGFkZXI6cyx1bmlmb3JtOm59fXIoT3QsXCJzaGFkZXJcIik7bGV0IFc9e3BhdXNlZDohMSxpbnNwZWN0OiExLHRpbWVTY2FsZToxLHNob3dMb2c6ITAsZnBzOmUuZnBzLG9iakNvdW50KCl7cmV0dXJuIHkoKS5vYmpzLnNpemV9LHN0ZXBGcmFtZSgpe0VlKCEwKX0sZHJhd0NhbGxzOm8uZHJhd0NhbGxzLGNsZWFyTG9nOnYuY2xlYXIsbG9nOnYuaW5mbyxlcnJvcjp2LmVycm9yfTtmdW5jdGlvbiBWdChzLG4pe2xldCBhPVtdLGQ9ZihuLnBvc3x8MCksdT0wLHA9e2dldFBvcyguLi5jKXtsZXQgbD1mKC4uLmMpO3JldHVybiBmKGQueCtsLngqbi53aWR0aCxkLnkrbC55Km4uaGVpZ2h0KX0sc3Bhd24oYyxsKXtsZXQgZz0oKCk9PntpZihBcnJheS5pc0FycmF5KGMpKXJldHVybiBjO2lmKG5bY10pe2lmKHR5cGVvZiBuW2NdPT1cImZ1bmN0aW9uXCIpcmV0dXJuIG5bY10oKTtpZihBcnJheS5pc0FycmF5KG5bY10pKXJldHVyblsuLi5uW2NdXX1lbHNlIGlmKG4uYW55KXJldHVybiBuLmFueShjKX0pKCk7aWYoIWcpcmV0dXJuO2cucHVzaChHZShkLngrbC54Km4ud2lkdGgsZC55K2wueSpuLmhlaWdodCkpO2xldCBEPWxlKGcpO3JldHVybiBhLnB1c2goRCksRC51c2Uoe2dyaWRQb3M6bC5jbG9uZSgpLHNldEdyaWRQb3MoTil7dGhpcy5ncmlkUG9zPU4uY2xvbmUoKSx0aGlzLnBvcz1mKGQueCt0aGlzLmdyaWRQb3MueCpuLndpZHRoLGQueSt0aGlzLmdyaWRQb3MueSpuLmhlaWdodCl9LG1vdmVMZWZ0KCl7dGhpcy5zZXRHcmlkUG9zKHRoaXMuZ3JpZFBvcy5hZGQoZigtMSwwKSkpfSxtb3ZlUmlnaHQoKXt0aGlzLnNldEdyaWRQb3ModGhpcy5ncmlkUG9zLmFkZChmKDEsMCkpKX0sbW92ZVVwKCl7dGhpcy5zZXRHcmlkUG9zKHRoaXMuZ3JpZFBvcy5hZGQoZigwLC0xKSkpfSxtb3ZlRG93bigpe3RoaXMuc2V0R3JpZFBvcyh0aGlzLmdyaWRQb3MuYWRkKGYoMCwxKSkpfX0pLER9LHdpZHRoKCl7cmV0dXJuIHUqbi53aWR0aH0saGVpZ2h0KCl7cmV0dXJuIHMubGVuZ3RoKm4uaGVpZ2h0fSxkZXN0cm95KCl7Zm9yKGxldCBjIG9mIGEpaWUoYyl9fTtyZXR1cm4gcy5mb3JFYWNoKChjLGwpPT57bGV0IGc9Yy5zcGxpdChcIlwiKTt1PU1hdGgubWF4KGcubGVuZ3RoLHUpLGcuZm9yRWFjaCgoRCxOKT0+e3Auc3Bhd24oRCxmKE4sbCkpfSl9KSxwfXIoVnQsXCJhZGRMZXZlbFwiKTtsZXQgQWU9e3N0YXJ0OlVlLGxvYWRSb290Om0ubG9hZFJvb3QsbG9hZFNwcml0ZTptLmxvYWRTcHJpdGUsbG9hZFNvdW5kOm0ubG9hZFNvdW5kLGxvYWRGb250Om0ubG9hZEZvbnQsbG9hZFNoYWRlcjptLmxvYWRTaGFkZXIsYWRkTG9hZGVyOm0uYWRkTG9hZGVyLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGR0OmssdGltZTplLnRpbWUsc2NyZWVuc2hvdDplLnNjcmVlbnNob3Qsc2NlbmU6RyxnbzpxLHNjZW5lRGF0YTpILGxheWVyczpPLGNhbVBvczp0ZSxjYW1TY2FsZTpuZSxjYW1Sb3Q6dWUsY2FtU2hha2U6Y2UsY2FtSWdub3JlOmZlLGdyYXZpdHk6RmUsYWRkOmxlLHJlYWRkOnBlLGRlc3Ryb3k6aWUsZGVzdHJveUFsbDpWZSxnZXQ6c2UsZXZlcnk6aGUscmV2ZXJ5OlNlLHNlbmQ6JCxyZWN2OlIscG9zOkdlLHNjYWxlOldlLHJvdGF0ZTpBdCxjb2xvcjpfdCxvcmlnaW46a3QsbGF5ZXI6RHQsYXJlYTpLZSxzcHJpdGU6UHQsdGV4dDpJdCxyZWN0Okx0LHNvbGlkOkZ0LGJvZHk6cXQsc2hhZGVyOk90LG9uOlRlLGFjdGlvbjpoLHJlbmRlcjp4LGNvbGxpZGVzOmIsb3ZlcmxhcHM6TCxjbGlja3M6eixrZXlEb3duOlAsa2V5UHJlc3M6WCxrZXlQcmVzc1JlcDpGLGtleVJlbGVhc2U6WixjaGFySW5wdXQ6cmUsbW91c2VEb3duOnllLG1vdXNlQ2xpY2s6SWUsbW91c2VSZWxlYXNlOkxlLG1vdXNlUG9zOlQsY3Vyc29yOmUuY3Vyc29yLGtleUlzRG93bjplLmtleURvd24sa2V5SXNQcmVzc2VkOmUua2V5UHJlc3NlZCxrZXlJc1ByZXNzZWRSZXA6ZS5rZXlQcmVzc2VkUmVwLGtleUlzUmVsZWFzZWQ6ZS5rZXlSZWxlYXNlZCxtb3VzZUlzRG93bjplLm1vdXNlRG93bixtb3VzZUlzQ2xpY2tlZDplLm1vdXNlQ2xpY2tlZCxtb3VzZUlzUmVsZWFzZWQ6ZS5tb3VzZVJlbGVhc2VkLGxvb3A6Syx3YWl0OlYscGxheTpJLHZvbHVtZTppLnZvbHVtZSxtYWtlUm5nOmplLHJhbmQ6a2UscmFuZFNlZWQ6Y3QsdmVjMjpmLHJnYjpxZSxyZ2JhOlkscXVhZDpvZSxjaG9vc2U6ZnQsY2hhbmNlOmR0LGxlcnA6X2UsbWFwOmdlLG1hcGM6bnQsd2F2ZTppdCxkZWcycmFkOmV0LHJhZDJkZWc6dHQsZHJhd1Nwcml0ZTp3LGRyYXdUZXh0OlMsZHJhd1JlY3Q6by5kcmF3UmVjdCxkcmF3UmVjdFN0cm9rZTpvLmRyYXdSZWN0U3Ryb2tlLGRyYXdMaW5lOm8uZHJhd0xpbmUsZGVidWc6VyxhZGRMZXZlbDpWdH07aWYodC5wbHVnaW5zKWZvcihsZXQgcyBvZiB0LnBsdWdpbnMpe2xldCBuPXMoQWUpO2ZvcihsZXQgYSBpbiBuKUFlW2FdPW5bYV19aWYodC5nbG9iYWwpZm9yKGxldCBzIGluIEFlKXdpbmRvd1tzXT1BZVtzXTtyZXR1cm4gQWV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2Fib29tLmNqcy5tYXBcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjaGFyYWN0ZXJzID0gcmVxdWlyZShcIi4vaW1nL2NoYXJhY3RlcnMucG5nXCIpO1xudmFyIHRpbGVzID0gcmVxdWlyZShcIi4vaW1nL3RpbGVzLnBuZ1wiKTtcbnZhciBrYWJvb21fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMva2Fib29tXCIpO1xudmFyIGxldmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2xldmVsXCIpO1xuLy8gaW1wb3J0IHsgU2NvcmUgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Njb3JlXCI7XG5rYWJvb21fMS5rLmxvYWRTcHJpdGUoXCJwbGF5ZXJcIiwgY2hhcmFjdGVycywge1xuICAgIHNsaWNlWDogOSxcbiAgICBzbGljZVk6IDMsXG4gICAgYW5pbXM6IHtcbiAgICAgICAgaWRsZTogeyBmcm9tOiAwLCB0bzogMCB9LFxuICAgICAgICBydW46IHsgZnJvbTogMCwgdG86IDEgfSxcbiAgICB9LFxufSk7XG5rYWJvb21fMS5rLmxvYWRTcHJpdGUoXCJ0aWxlc1wiLCB0aWxlcywge1xuICAgIHNsaWNlWDogOSxcbiAgICBzbGljZVk6IDMsXG59KTtcbmthYm9vbV8xLmsuc2NlbmUoXCJnYW1lXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBrYWJvb21fMS5rLmxheWVycyhbXCJiZ1wiLCBcIm9ialwiLCBcInVpXCJdLCBcIm9ialwiKTtcbiAgICAoMCwgbGV2ZWxfMS5MZXZlbCkoKTtcbiAgICAvLyBwbGF5ZXIoKTtcbn0pO1xua2Fib29tXzEuay5zdGFydChcImdhbWVcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=